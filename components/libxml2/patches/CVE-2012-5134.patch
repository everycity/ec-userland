--- libxml2-2.7.8/parser.c.~1~	2010-11-04 15:55:45.000000000 +0000
+++ libxml2-2.7.8/parser.c	2012-12-07 17:04:34.364643625 +0000
@@ -3922,7 +3922,7 @@
 	c = CUR_CHAR(l);
     }
     if ((in_space) && (normalize)) {
-        while (buf[len - 1] == 0x20) len--;
+        while ((len > 0) && (buf[len - 1] == 0x20)) len--;
     }
     buf[len] = 0;
     if (RAW == '<') {
