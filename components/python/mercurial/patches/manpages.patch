rst2man does a poor job of creating man pages that can be read on Solaris.
Some of the changes in this patch make the Solaris *roff tools do the right
thing:

  - Getting rid of the rst2man header before the SYNOPSIS

  - Changing "\(aq" to "'", and making sure that single quotes don't start
    a line (at least in a couple of places where it's not safe)

  - Changing ".ft C" and ".ft P" to simply ".ft"

  - Removing "\%" and "\:"

Groff also makes hash of an .IP terminated by .RE (the .RE sends the
following paragraphs all the way to the left margin, rather than simply
terminating the indented paragraph).  It needs a preceding .RS to do the
right thing, and .RS 0 seems to give the best effect.  Probably most
.INDENT/.UNINDENT pairs should be converted to .RS/.RE, too.

We also get rid of references to other operating systems, since there
aren't many, and they may confuse the reader.

--- mercurial-2.2.1/doc/hg.1	Thu May  3 14:06:34 2012
+++ mercurial-2.2.1/doc/hg.1	Sat May 12 17:39:08 2012
@@ -1,35 +1,9 @@
+'\" t
 .\" Man page generated from reStructeredText.
 .
 .TH HG 1 "" "" "Mercurial Manual"
 .SH NAME
 hg \- Mercurial source code management system
-.
-.nr rst2man-indent-level 0
-.
-.de1 rstReportMargin
-\\$1 \\n[an-margin]
-level \\n[rst2man-indent-level]
-level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
--
-\\n[rst2man-indent0]
-\\n[rst2man-indent1]
-\\n[rst2man-indent2]
-..
-.de1 INDENT
-.\" .rstReportMargin pre:
-. RS \\$1
-. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
-. nr rst2man-indent-level +1
-.\" .rstReportMargin post:
-..
-.de UNINDENT
-. RE
-.\" indent \\n[an-margin]
-.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
-.nr rst2man-indent-level -1
-.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
-.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
-..
 .SH SYNOPSIS
 .sp
 \fBhg\fP \fIcommand\fP [\fIoption\fP]... [\fIargument\fP]...
@@ -43,7 +17,7 @@
 .B files...
 .
 indicates one or more filename or relative path filenames; see
-\%File Name Patterns\: for information on pattern matching
+File Name Patterns for information on pattern matching
 .TP
 .B path
 .
@@ -85,7 +59,7 @@
 .TP
 .B \-\-config
 .
-set/override config option (use \(aqsection.name=value\(aq)
+set/override config option (use 'section.name=value')
 .TP
 .B \-\-debug
 .
@@ -127,9 +101,9 @@
 .SS add
 .sp
 .nf
-.ft C
+.ft
 hg add [OPTION]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
 Schedule files to be version controlled and added to the
@@ -136,15 +110,15 @@
 repository.
 .sp
 The files will be added to the repository at the next commit. To
-undo an add before that, see \%\fBhg forget\fP\:.
+undo an add before that, see \fBhg forget\fP.
 .sp
 If no names are given, add all files to the repository.
 .sp
 An example showing how new (unknown) files are added
-automatically by \%\fBhg add\fP\::
+automatically by \fBhg add\fP:
 .sp
 .nf
-.ft C
+.ft
 $ ls
 foo.c
 $ hg status
@@ -153,7 +127,7 @@
 adding foo.c
 $ hg status
 A foo.c
-.ft P
+.ft
 .fi
 .sp
 Returns 0 if all files are successfully added.
@@ -180,9 +154,9 @@
 .SS addremove
 .sp
 .nf
-.ft C
+.ft
 hg addremove [OPTION]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
 Add all new files and remove all missing files from the
@@ -197,7 +171,7 @@
 every added file and records those similar enough as renames. This
 option takes a percentage between 0 (disabled) and 100 (files must
 be identical) as its parameter. Detecting renamed files this way
-can be expensive. After using this option, \%\fBhg status \-C\fP\: can be
+can be expensive. After using this option, \fBhg status \-C\fP can be
 used to check which files were identified as moved or renamed.
 .sp
 Returns 0 if all files are successfully added.
@@ -224,9 +198,9 @@
 .SS annotate
 .sp
 .nf
-.ft C
+.ft
 hg annotate [\-r REV] [\-f] [\-a] [\-u] [\-d] [\-n] [\-c] [\-l] FILE...
-.ft P
+.ft
 .fi
 .sp
 List changes in files, showing the revision id responsible for
@@ -255,7 +229,7 @@
 .TP
 .B \-\-no\-follow
 .
-don\(aqt follow copies and renames
+don't follow copies and renames
 .TP
 .B \-a,  \-\-text
 .
@@ -310,9 +284,9 @@
 .SS archive
 .sp
 .nf
-.ft C
+.ft
 hg archive [OPTION]... DEST
-.ft P
+.ft
 .fi
 .sp
 By default, the revision used is the parent of the working
@@ -328,9 +302,9 @@
 create a zip file containing the 1.0 release:
 .sp
 .nf
-.ft C
+.ft
 hg archive \-r 1.0 project\-1.0.zip
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -337,9 +311,9 @@
 create a tarball excluding .hg files:
 .sp
 .nf
-.ft C
+.ft
 hg archive project.tar.gz \-X ".hg*"
-.ft P
+.ft
 .fi
 .UNINDENT
 .sp
@@ -372,7 +346,7 @@
 .UNINDENT
 .sp
 The exact name of the destination archive or directory is given
-using a format string; see \%\fBhg help export\fP\: for details.
+using a format string; see \fBhg help export\fP for details.
 .sp
 Each member added to an archive file has a directory prefix
 prepended. Use \-p/\-\-prefix to specify a format string for the
@@ -415,9 +389,9 @@
 .SS backout
 .sp
 .nf
-.ft C
+.ft
 hg backout [OPTION]... [\-r] REV
-.ft P
+.ft
 .fi
 .sp
 Prepare a new changeset with the effect of REV undone in the
@@ -426,6 +400,7 @@
 If REV is the parent of the working directory, then this new changeset
 is committed automatically. Otherwise, hg needs to merge the
 changes and the merged result is left uncommitted.
+.RS 0
 .IP Note
 .
 backout cannot be used to fix either an unwanted or
@@ -438,11 +413,11 @@
 working directory and a new child of REV that simply undoes REV.
 .sp
 Before version 1.7, the behavior without \-\-merge was equivalent
-to specifying \-\-merge followed by \%\fBhg update \-\-clean .\fP\: to
+to specifying \-\-merge followed by \fBhg update \-\-clean .\fP to
 cancel the merge and leave the child of REV as a head to be
 merged separately.
 .sp
-See \%\fBhg help dates\fP\: for a list of formats valid for \-d/\-\-date.
+See \fBhg help dates\fP for a list of formats valid for \-d/\-\-date.
 .sp
 Returns 0 on success.
 .sp
@@ -492,9 +467,9 @@
 .SS bisect
 .sp
 .nf
-.ft C
+.ft
 hg bisect [\-gbsr] [\-U] [\-c CMD] [REV]
-.ft P
+.ft
 .fi
 .sp
 This command helps to find changesets which introduce problems. To
@@ -522,10 +497,10 @@
 start a bisection with known bad revision 12, and good revision 34:
 .sp
 .nf
-.ft C
+.ft
 hg bisect \-\-bad 34
 hg bisect \-\-good 12
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -533,10 +508,10 @@
 bad:
 .sp
 .nf
-.ft C
+.ft
 hg bisect \-\-good
 hg bisect \-\-bad
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -544,10 +519,10 @@
 that revision is not usable because of another issue):
 .sp
 .nf
-.ft C
+.ft
 hg bisect \-\-skip
 hg bisect \-\-skip 23
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -554,22 +529,22 @@
 forget the current bisection:
 .sp
 .nf
-.ft C
+.ft
 hg bisect \-\-reset
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
-use \(aqmake && make tests\(aq to automatically find the first broken
+use 'make && make tests' to automatically find the first broken
 revision:
 .sp
 .nf
-.ft C
+.ft
 hg bisect \-\-reset
 hg bisect \-\-bad 34
 hg bisect \-\-good 12
-hg bisect \-\-command \(aqmake && make tests\(aq
-.ft P
+hg bisect \-\-command 'make && make tests'
+.ft
 .fi
 .IP \(bu 2
 .
@@ -577,9 +552,9 @@
 bisection:
 .sp
 .nf
-.ft C
+.ft
 hg log \-r "bisect(pruned)"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -586,9 +561,9 @@
 see all changesets that took part in the current bisection:
 .sp
 .nf
-.ft C
+.ft
 hg log \-r "bisect(range)"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -595,13 +570,13 @@
 with the graphlog extension, you can even get a nice graph:
 .sp
 .nf
-.ft C
+.ft
 hg log \-\-graph \-r "bisect(range)"
-.ft P
+.ft
 .fi
 .UNINDENT
 .sp
-See \%\fBhg help revsets\fP\: for more about the \fIbisect()\fP keyword.
+See \fBhg help revsets\fP for more about the \fIbisect()\fP keyword.
 .sp
 Returns 0 on success.
 .sp
@@ -639,23 +614,23 @@
 .SS bookmarks
 .sp
 .nf
-.ft C
+.ft
 hg bookmarks [\-f] [\-d] [\-i] [\-m NAME] [\-r REV] [NAME]
-.ft P
+.ft
 .fi
 .sp
 Bookmarks are pointers to certain commits that move when committing.
 Bookmarks are local. They can be renamed, copied and deleted. It is
-possible to use \%\fBhg merge NAME\fP\: to merge from a given bookmark, and
-\%\fBhg update NAME\fP\: to update to a given bookmark.
+possible to use \fBhg merge NAME\fP to merge from a given bookmark, and
+\fBhg update NAME\fP to update to a given bookmark.
 .sp
-You can use \%\fBhg bookmark NAME\fP\: to set a bookmark on the working
-directory\(aqs parent revision with the given name. If you specify
+You can use \fBhg bookmark NAME\fP to set a bookmark on the working
+directory's parent revision with the given name. If you specify
 a revision using \-r REV (where REV may be an existing bookmark),
 the bookmark is assigned to that revision.
 .sp
-Bookmarks can be pushed and pulled between repositories (see \%\fBhg help
-push\fP\: and \%\fBhg help pull\fP\:). This requires both the local and remote
+Bookmarks can be pushed and pulled between repositories (see \fBhg help
+push\fP and \fBhg help pull\fP). This requires both the local and remote
 repositories to support bookmarks. For versions prior to 1.8, this means
 the bookmarks extension must be enabled.
 .sp
@@ -690,14 +665,15 @@
 .SS branch
 .sp
 .nf
-.ft C
+.ft
 hg branch [\-fC] [NAME]
-.ft P
+.ft
 .fi
+.RS 0
 .IP Note
 .
-Branch names are permanent and global. Use \%\fBhg bookmark\fP\: to create a
-light\-weight bookmark instead. See \%\fBhg help glossary\fP\: for more
+Branch names are permanent and global. Use \fBhg bookmark\fP to create a
+light\-weight bookmark instead. See \fBhg help glossary\fP for more
 information about named branches and bookmarks.
 .RE
 .sp
@@ -704,18 +680,18 @@
 With no argument, show the current branch name. With one argument,
 set the working directory branch name (the branch will not exist
 in the repository until the next commit). Standard practice
-recommends that primary development take place on the \(aqdefault\(aq
+recommends that primary development take place on the 'default'
 branch.
 .sp
 Unless \-f/\-\-force is specified, branch will not let you set a
-branch name that already exists, even if it\(aqs inactive.
+branch name that already exists, even if it's inactive.
 .sp
 Use \-C/\-\-clean to reset the working directory branch to that of
 the parent of the working directory, negating a previous branch
 change.
 .sp
-Use the command \%\fBhg update\fP\: to switch to an existing branch. Use
-\%\fBhg commit \-\-close\-branch\fP\: to mark this branch as closed.
+Use the command \fBhg update\fP to switch to an existing branch. Use
+\fBhg commit \-\-close\-branch\fP to mark this branch as closed.
 .sp
 Returns 0 on success.
 .sp
@@ -733,19 +709,19 @@
 .SS branches
 .sp
 .nf
-.ft C
+.ft
 hg branches [\-ac]
-.ft P
+.ft
 .fi
 .sp
-List the repository\(aqs named branches, indicating which ones are
+List the repository's named branches, indicating which ones are
 inactive. If \-c/\-\-closed is specified, also list branches which have
-been marked closed (see \%\fBhg commit \-\-close\-branch\fP\:).
+been marked closed (see \fBhg commit \-\-close\-branch\fP).
 .sp
 If \-a/\-\-active is specified, only show active branches. A branch
 is considered active if it contains repository heads.
 .sp
-Use the command \%\fBhg update\fP\: to switch to an existing branch.
+Use the command \fBhg update\fP to switch to an existing branch.
 .sp
 Returns 0.
 .sp
@@ -763,9 +739,9 @@
 .SS bundle
 .sp
 .nf
-.ft C
+.ft
 hg bundle [\-f] [\-t TYPE] [\-a] [\-r REV]... [\-\-base REV]... FILE [DEST]
-.ft P
+.ft
 .fi
 .sp
 Generate a compressed changegroup file collecting changesets not
@@ -832,9 +808,9 @@
 .SS cat
 .sp
 .nf
-.ft C
+.ft
 hg cat [OPTION]... FILE...
-.ft P
+.ft
 .fi
 .sp
 Print the specified files as they were at the given revision. If
@@ -852,7 +828,7 @@
 .TP
 .B \fB%d\fP
 .sp
-dirname of file being printed, or \(aq.\(aq if in repository root
+dirname of file being printed, or '.' if in repository root
 .TP
 .B \fB%p\fP
 .sp
@@ -887,9 +863,9 @@
 .SS clone
 .sp
 .nf
-.ft C
+.ft
 hg clone [OPTION]... SOURCE [DEST]
-.ft P
+.ft
 .fi
 .sp
 Create a copy of an existing repository in a new directory.
@@ -897,7 +873,7 @@
 If no destination directory name is specified, it defaults to the
 basename of the source.
 .sp
-The location of the source is added to the new repository\(aqs
+The location of the source is added to the new repository's
 \fB.hg/hgrc\fP file, as the default to be used for future pulls.
 .sp
 Only local paths and \fBssh://\fP URLs are supported as
@@ -907,7 +883,7 @@
 To pull only a subset of changesets, specify one or more revisions
 identifiers with \-r/\-\-rev or branches with \-b/\-\-branch. The
 resulting clone will contain only the specified changesets and
-their ancestors. These options (or \(aqclone src#rev dest\(aq) imply
+their ancestors. These options (or 'clone src#rev dest') imply
 \-\-pull, even for local source repositories. Note that specifying a
 tag will include the tagged changeset but not the changeset
 containing the tag.
@@ -926,9 +902,9 @@
 directory using full hardlinks with
 .sp
 .nf
-.ft C
+.ft
 $ cp \-al REPO REPOCLONE
-.ft P
+.ft
 .fi
 .sp
 This is the fastest way to clone, but it is not always safe. The
@@ -947,7 +923,7 @@
 .IP b. 3
 .
 if \-u . and the source repository is local, the first parent of
-the source repository\(aqs working directory
+the source repository's working directory
 .IP c. 3
 .
 the changeset specified with \-u (if a branch name, this means the
@@ -976,9 +952,9 @@
 clone a remote repository to a new directory named hg/:
 .sp
 .nf
-.ft C
+.ft
 hg clone http://selenic.com/hg
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -985,9 +961,9 @@
 create a lightweight local clone:
 .sp
 .nf
-.ft C
+.ft
 hg clone project/ project\-feature/
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -994,9 +970,9 @@
 clone from an absolute path on an ssh server (note double\-slash):
 .sp
 .nf
-.ft C
+.ft
 hg clone ssh://user@server//home/projects/alpha/
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1004,9 +980,9 @@
 specified version:
 .sp
 .nf
-.ft C
+.ft
 hg clone \-\-uncompressed http://server/repo \-u 1.5
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1013,9 +989,9 @@
 create a repository without changesets after a particular revision:
 .sp
 .nf
-.ft C
+.ft
 hg clone \-r 04e544 experimental/ good/
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1022,13 +998,13 @@
 clone (and track) a particular named branch:
 .sp
 .nf
-.ft C
+.ft
 hg clone http://selenic.com/hg#stable
-.ft P
+.ft
 .fi
 .UNINDENT
 .sp
-See \%\fBhg help urls\fP\: for details on specifying URLs.
+See \fBhg help urls\fP for details on specifying URLs.
 .sp
 Returns 0 on success.
 .sp
@@ -1074,16 +1050,16 @@
 .SS commit
 .sp
 .nf
-.ft C
+.ft
 hg commit [OPTION]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
 Commit changes to the given files into the repository. Unlike a
 centralized SCM, this operation is a local operation. See
-\%\fBhg push\fP\: for a way to actively distribute your changes.
+\fBhg push\fP for a way to actively distribute your changes.
 .sp
-If a list of files is omitted, all changes reported by \%\fBhg status\fP\:
+If a list of files is omitted, all changes reported by \fBhg status\fP
 will be committed.
 .sp
 If you are committing the result of a merge, do not provide any
@@ -1096,19 +1072,19 @@
 .sp
 The \-\-amend flag can be used to amend the parent of the
 working directory with a new commit that contains the changes
-in the parent in addition to those currently reported by \%\fBhg status\fP\:,
+in the parent in addition to those currently reported by \fBhg status\fP,
 if there are any. The old commit is stored in a backup bundle in
-\fB.hg/strip\-backup\fP (see \%\fBhg help bundle\fP\: and \%\fBhg help unbundle\fP\:
+\fB.hg/strip\-backup\fP (see \fBhg help bundle\fP and \fBhg help unbundle\fP
 on how to restore it).
 .sp
 Message, user and date are taken from the amended commit unless
-specified. When a message isn\(aqt specified on the command line,
+specified. When a message isn't specified on the command line,
 the editor will open with the message of the amended commit.
 .sp
-It is not possible to amend public changesets (see \%\fBhg help phases\fP\:)
+It is not possible to amend public changesets (see \fBhg help phases\fP)
 or changesets that have children.
 .sp
-See \%\fBhg help dates\fP\: for a list of formats valid for \-d/\-\-date.
+See \fBhg help dates\fP for a list of formats valid for \-d/\-\-date.
 .sp
 Returns 0 on success, 1 if nothing changed.
 .sp
@@ -1160,9 +1136,9 @@
 .SS copy
 .sp
 .nf
-.ft C
+.ft
 hg copy [OPTION]... [SOURCE]... DEST
-.ft P
+.ft
 .fi
 .sp
 Mark dest as having copies of source files. If dest is a
@@ -1174,7 +1150,7 @@
 operation is recorded, but no copying is performed.
 .sp
 This command takes effect with the next commit. To undo a copy
-before that, see \%\fBhg revert\fP\:.
+before that, see \fBhg revert\fP.
 .sp
 Returns 0 on success, 1 if errors are encountered.
 .sp
@@ -1206,18 +1182,19 @@
 .SS diff
 .sp
 .nf
-.ft C
+.ft
 hg diff [OPTION]... ([\-c REV] | [\-r REV1 [\-r REV2]]) [FILE]...
-.ft P
+.ft
 .fi
 .sp
 Show differences between revisions for the specified files.
 .sp
 Differences between files are shown using the unified diff format.
+.RS 0
 .IP Note
 .
 diff may generate unexpected results for merges, as it will
-default to comparing against the working directory\(aqs first
+default to comparing against the working directory's first
 parent changeset if no revisions are specified.
 .RE
 .sp
@@ -1235,7 +1212,7 @@
 anyway, probably with undesirable results.
 .sp
 Use the \-g/\-\-git option to generate diffs in the git extended diff
-format. For more information, read \%\fBhg help diffs\fP\:.
+format. For more information, read \fBhg help diffs\fP.
 .sp
 Examples:
 .INDENT 0.0
@@ -1244,9 +1221,9 @@
 compare a file in the current working directory to its parent:
 .sp
 .nf
-.ft C
+.ft
 hg diff foo.c
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1253,9 +1230,9 @@
 compare two historical versions of a directory, with rename info:
 .sp
 .nf
-.ft C
+.ft
 hg diff \-\-git \-r 1.0:1.2 lib/
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1262,9 +1239,9 @@
 get change stats relative to the last change on some date:
 .sp
 .nf
-.ft C
-hg diff \-\-stat \-r "date(\(aqmay 2\(aq)"
-.ft P
+.ft
+hg diff \-\-stat \-r "date('may 2')"
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1271,9 +1248,9 @@
 diff all newly\-added files that contain a keyword:
 .sp
 .nf
-.ft C
+.ft
 hg diff "set:added() and grep(GNU)"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1280,11 +1257,11 @@
 compare a revision and its parents:
 .sp
 .nf
-.ft C
+.ft
 hg diff \-c 9353         # compare against first parent
 hg diff \-r 9353^:9353   # same using revset syntax
 hg diff \-r 9353^2:9353  # compare against the second parent
-.ft P
+.ft
 .fi
 .UNINDENT
 .sp
@@ -1356,9 +1333,9 @@
 .SS export
 .sp
 .nf
-.ft C
+.ft
 hg export [OPTION]... [\-o OUTFILESPEC] REV...
-.ft P
+.ft
 .fi
 .sp
 Print the changeset header and diffs for one or more revisions.
@@ -1366,6 +1343,7 @@
 The information shown in the changeset header is: author, date,
 branch name (if non\-default), changeset hash, parent(s) and commit
 comment.
+.RS 0
 .IP Note
 .
 export may generate unexpected diff output for merge
@@ -1419,7 +1397,7 @@
 diff anyway, probably with undesirable results.
 .sp
 Use the \-g/\-\-git option to generate diffs in the git extended diff
-format. See \%\fBhg help diffs\fP\: for more information.
+format. See \fBhg help diffs\fP for more information.
 .sp
 With the \-\-switch\-parent option, the diff will be against the
 second parent. It can be useful to review a merge.
@@ -1432,9 +1410,9 @@
 branch:
 .sp
 .nf
-.ft C
+.ft
 hg export \-r 9353 | hg import \-
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1442,9 +1420,9 @@
 rename information:
 .sp
 .nf
-.ft C
+.ft
 hg export \-\-git \-r 123:150 > changes.txt
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1452,9 +1430,9 @@
 descriptive names:
 .sp
 .nf
-.ft C
+.ft
 hg export \-r "outgoing()" \-o "%n\-%m.patch"
-.ft P
+.ft
 .fi
 .UNINDENT
 .sp
@@ -1490,9 +1468,9 @@
 .SS forget
 .sp
 .nf
-.ft C
+.ft
 hg forget [OPTION]... FILE...
-.ft P
+.ft
 .fi
 .sp
 Mark the specified files so they will no longer be tracked
@@ -1502,7 +1480,7 @@
 entire project history, and it does not delete them from the
 working directory.
 .sp
-To undo a forget before the next commit, see \%\fBhg add\fP\:.
+To undo a forget before the next commit, see \fBhg add\fP.
 .sp
 Examples:
 .INDENT 0.0
@@ -1511,9 +1489,9 @@
 forget newly\-added binary files:
 .sp
 .nf
-.ft C
+.ft
 hg forget "set:added() and binary()"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1520,9 +1498,9 @@
 forget files that would be excluded by .hgignore:
 .sp
 .nf
-.ft C
+.ft
 hg forget "set:hgignore()"
-.ft P
+.ft
 .fi
 .UNINDENT
 .sp
@@ -1542,15 +1520,15 @@
 .SS graft
 .sp
 .nf
-.ft C
+.ft
 hg graft [OPTION]... REVISION...
-.ft P
+.ft
 .fi
 .sp
-This command uses Mercurial\(aqs merge logic to copy individual
+This command uses Mercurial's merge logic to copy individual
 changes from other branches without merging branches in the
-history graph. This is sometimes known as \(aqbackporting\(aq or
-\(aqcherry\-picking\(aq. By default, graft will copy user, date, and
+history graph. This is sometimes known as 'backporting' or 'cherry\-picking'.
+By default, graft will copy user, date, and
 description from the source changesets.
 .sp
 Changesets that are ancestors of the current revision, that have
@@ -1560,6 +1538,7 @@
 interrupted so that the current merge can be manually resolved.
 Once all conflicts are addressed, the graft process can be
 continued with the \-c/\-\-continue option.
+.RS 0
 .IP Note
 .
 The \-c/\-\-continue option does not reapply earlier options.
@@ -1572,10 +1551,10 @@
 copy a single change to the stable branch and edit its description:
 .sp
 .nf
-.ft C
+.ft
 hg update stable
 hg graft \-\-edit 9393
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1582,9 +1561,9 @@
 graft a range of changesets with one exception, updating dates:
 .sp
 .nf
-.ft C
+.ft
 hg graft \-D "2085::2093 and not 2091"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1591,9 +1570,9 @@
 continue a graft after resolving conflicts:
 .sp
 .nf
-.ft C
+.ft
 hg graft \-c
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1600,9 +1579,9 @@
 show the source of a grafted changeset:
 .sp
 .nf
-.ft C
+.ft
 hg log \-\-debug \-r tip
-.ft P
+.ft
 .fi
 .UNINDENT
 .sp
@@ -1646,9 +1625,9 @@
 .SS grep
 .sp
 .nf
-.ft C
+.ft
 hg grep [OPTION]... PATTERN [FILE]...
-.ft P
+.ft
 .fi
 .sp
 Search revisions of files for a regular expression.
@@ -1720,9 +1699,9 @@
 .SS heads
 .sp
 .nf
-.ft C
+.ft
 hg heads [\-ac] [\-r STARTREV] [REV]...
-.ft P
+.ft
 .fi
 .sp
 With no arguments, show all repository branch heads.
@@ -1734,11 +1713,11 @@
 .sp
 If one or more REVs are given, only branch heads on the branches
 associated with the specified changesets are shown. This means
-that you can use \%\fBhg heads foo\fP\: to see the heads on a branch
+that you can use \fBhg heads foo\fP to see the heads on a branch
 named \fBfoo\fP.
 .sp
 If \-c/\-\-closed is specified, also show branch heads marked closed
-(see \%\fBhg commit \-\-close\-branch\fP\:).
+(see \fBhg commit \-\-close\-branch\fP).
 .sp
 If STARTREV is specified, only those heads that are descendants of
 STARTREV will be displayed.
@@ -1778,9 +1757,9 @@
 .SS help
 .sp
 .nf
-.ft C
+.ft
 hg help [\-ec] [TOPIC]
-.ft P
+.ft
 .fi
 .sp
 With no arguments, print a list of commands with short help messages.
@@ -1804,9 +1783,9 @@
 .SS identify
 .sp
 .nf
-.ft C
+.ft
 hg identify [\-nibtB] [\-r REV] [SOURCE]
-.ft P
+.ft
 .fi
 .sp
 Print a summary identifying the repository state at REV using one or
@@ -1827,9 +1806,9 @@
 generate a build identifier for the working directory:
 .sp
 .nf
-.ft C
+.ft
 hg id \-\-id > build\-id.dat
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1836,9 +1815,9 @@
 find the revision corresponding to a tag:
 .sp
 .nf
-.ft C
+.ft
 hg id \-n \-r 1.3
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1845,9 +1824,9 @@
 check the most recent revision of a remote repository:
 .sp
 .nf
-.ft C
+.ft
 hg id \-r tip http://selenic.com/hg/
-.ft P
+.ft
 .fi
 .UNINDENT
 .sp
@@ -1897,9 +1876,9 @@
 .SS import
 .sp
 .nf
-.ft C
+.ft
 hg import [OPTION]... PATCH...
-.ft P
+.ft
 .fi
 .sp
 Import a list of patches and commit them individually (unless
@@ -1915,7 +1894,7 @@
 text/plain body parts before first diff are added to commit
 message.
 .sp
-If the imported patch was generated by \%\fBhg export\fP\:, user and
+If the imported patch was generated by \fBhg export\fP, user and
 description from patch override values from message headers and
 body. Values given on command line with \-m/\-\-message and \-u/\-\-user
 override these.
@@ -1932,11 +1911,11 @@
 revision.
 .sp
 With \-s/\-\-similarity, hg will attempt to discover renames and
-copies in the patch in the same way as \%\fBhg addremove\fP\:.
+copies in the patch in the same way as \fBhg addremove\fP.
 .sp
 To read a patch from standard input, use "\-" as the patch name. If
 a URL is specified, the patch will be downloaded from it.
-See \%\fBhg help dates\fP\: for a list of formats valid for \-d/\-\-date.
+See \fBhg help dates\fP for a list of formats valid for \-d/\-\-date.
 .sp
 Examples:
 .INDENT 0.0
@@ -1945,9 +1924,9 @@
 import a traditional patch from a website and detect renames:
 .sp
 .nf
-.ft C
+.ft
 hg import \-s 80 http://example.com/bugfix.patch
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1954,9 +1933,9 @@
 import a changeset from an hgweb server:
 .sp
 .nf
-.ft C
+.ft
 hg import http://www.selenic.com/hg/rev/5ca8c111e9aa
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1963,9 +1942,9 @@
 import all the patches in an Unix\-style mbox:
 .sp
 .nf
-.ft C
+.ft
 hg import incoming\-patches.mbox
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -1973,9 +1952,9 @@
 possible):
 .sp
 .nf
-.ft C
+.ft
 hg import \-\-exact proposed\-fix.patch
-.ft P
+.ft
 .fi
 .UNINDENT
 .sp
@@ -2002,7 +1981,7 @@
 .TP
 .B \-\-no\-commit
 .
-don\(aqt commit, just update the working directory
+don't commit, just update the working directory
 .TP
 .B \-\-bypass
 .
@@ -2041,9 +2020,9 @@
 .SS incoming
 .sp
 .nf
-.ft C
+.ft
 hg incoming [\-p] [\-n] [\-M] [\-f] [\-r REV]... [\-\-bundle FILENAME] [SOURCE]
-.ft P
+.ft
 .fi
 .sp
 Show new changesets found in the specified path/URL or the default
@@ -2133,9 +2112,9 @@
 .SS init
 .sp
 .nf
-.ft C
+.ft
 hg init [\-e CMD] [\-\-remotecmd CMD] [DEST]
-.ft P
+.ft
 .fi
 .sp
 Initialize a new repository in the given directory. If the given
@@ -2144,7 +2123,7 @@
 If no directory is given, the current directory is used.
 .sp
 It is possible to specify an \fBssh://\fP URL as the destination.
-See \%\fBhg help urls\fP\: for more information.
+See \fBhg help urls\fP for more information.
 .sp
 Returns 0 on success.
 .sp
@@ -2166,9 +2145,9 @@
 .SS locate
 .sp
 .nf
-.ft C
+.ft
 hg locate [OPTION]... [PATTERN]...
-.ft P
+.ft
 .fi
 .sp
 Print files under Mercurial control in the working directory whose
@@ -2214,9 +2193,9 @@
 .SS log
 .sp
 .nf
-.ft C
+.ft
 hg log [OPTION]... [FILE]
-.ft P
+.ft
 .fi
 .sp
 Print the revision history of the specified files or the entire
@@ -2235,6 +2214,7 @@
 tags, non\-trivial parents, user, date and time, and a summary for
 each commit. When the \-v/\-\-verbose switch is used, the list of
 changed files and full commit message are shown.
+.RS 0
 .IP Note
 .
 log \-p/\-\-patch may generate unexpected diff output for merge
@@ -2242,6 +2222,7 @@
 its first parent. Also, only files different from BOTH parents
 will appear in files:.
 .RE
+.RS 0
 .IP Note
 .
 for performance reasons, log FILE may omit duplicate changes
@@ -2257,9 +2238,9 @@
 changesets with full descriptions and file lists:
 .sp
 .nf
-.ft C
+.ft
 hg log \-v
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -2266,9 +2247,9 @@
 changesets ancestral to the working directory:
 .sp
 .nf
-.ft C
+.ft
 hg log \-f
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -2275,9 +2256,9 @@
 last 10 commits on the current branch:
 .sp
 .nf
-.ft C
+.ft
 hg log \-l 10 \-b .
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -2284,9 +2265,9 @@
 changesets showing all modifications of a file, including removals:
 .sp
 .nf
-.ft C
+.ft
 hg log \-\-removed file.c
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -2293,9 +2274,9 @@
 all changesets that touch a directory, with diffs, excluding merges:
 .sp
 .nf
-.ft C
+.ft
 hg log \-Mp lib/
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -2302,9 +2283,9 @@
 all revision numbers that match a keyword:
 .sp
 .nf
-.ft C
+.ft
 hg log \-k bug \-\-template "{rev}\en"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -2311,9 +2292,9 @@
 check if a given changeset is included is a tagged release:
 .sp
 .nf
-.ft C
+.ft
 hg log \-r "a21ccf and ancestor(1.9)"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -2320,9 +2301,9 @@
 find all changesets by some user in a date range:
 .sp
 .nf
-.ft C
+.ft
 hg log \-k alice \-d "may 2008 to jul 2008"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -2329,18 +2310,18 @@
 summary of all changesets after the last tag:
 .sp
 .nf
-.ft C
+.ft
 hg log \-r "last(tagged())::" \-\-template "{desc|firstline}\en"
-.ft P
+.ft
 .fi
 .UNINDENT
 .sp
-See \%\fBhg help dates\fP\: for a list of formats valid for \-d/\-\-date.
+See \fBhg help dates\fP for a list of formats valid for \-d/\-\-date.
 .sp
-See \%\fBhg help revisions\fP\: and \%\fBhg help revsets\fP\: for more about
+See \fBhg help revisions\fP and \fBhg help revsets\fP for more about
 specifying revisions.
 .sp
-See \%\fBhg help templates\fP\: for more about pre\-packaged styles and
+See \fBhg help templates\fP for more about pre\-packaged styles and
 specifying custom templates.
 .sp
 Returns 0 on success.
@@ -2441,9 +2422,9 @@
 .SS manifest
 .sp
 .nf
-.ft C
+.ft
 hg manifest [\-r REV]
-.ft P
+.ft
 .fi
 .sp
 Print a list of version controlled files for the given revision.
@@ -2472,9 +2453,9 @@
 .SS merge
 .sp
 .nf
-.ft C
+.ft
 hg merge [\-P] [\-f] [[\-r] REV]
-.ft P
+.ft
 .fi
 .sp
 The current working directory is updated with all changes made in
@@ -2487,16 +2468,16 @@
 .sp
 \fB\-\-tool\fP can be used to specify the merge tool used for file
 merges. It overrides the HGMERGE environment variable and your
-configuration files. See \%\fBhg help merge\-tools\fP\: for options.
+configuration files. See \fBhg help merge\-tools\fP for options.
 .sp
-If no revision is specified, the working directory\(aqs parent is a
+If no revision is specified, the working directory's parent is a
 head revision, and the current branch contains exactly one other
 head, the other head is merged with by default. Otherwise, an
 explicit revision with which to merge with must be provided.
 .sp
-\%\fBhg resolve\fP\: must be used to resolve unresolved files.
+\fBhg resolve\fP must be used to resolve unresolved files.
 .sp
-To undo an uncommitted merge, use \%\fBhg update \-\-clean .\fP\: which
+To undo an uncommitted merge, use \fBhg update \-\-clean .\fP which
 will check out a clean copy of the original merge parent, losing
 all changes.
 .sp
@@ -2524,9 +2505,9 @@
 .SS outgoing
 .sp
 .nf
-.ft C
+.ft
 hg outgoing [\-M] [\-p] [\-n] [\-f] [\-r REV]... [DEST]
-.ft P
+.ft
 .fi
 .sp
 Show changesets not found in the specified destination repository
@@ -2609,12 +2590,12 @@
 .SS parents
 .sp
 .nf
-.ft C
+.ft
 hg parents [\-r REV] [FILE]
-.ft P
+.ft
 .fi
 .sp
-Print the working directory\(aqs parent revisions. If a revision is
+Print the working directory's parent revisions. If a revision is
 given via \-r/\-\-rev, the parent of that revision will be printed.
 If a file argument is given, the revision in which the file was
 last changed (before the working directory revision or the
@@ -2640,9 +2621,9 @@
 .SS paths
 .sp
 .nf
-.ft C
+.ft
 hg paths [NAME]
-.ft P
+.ft
 .fi
 .sp
 Show definition of symbolic path name NAME. If no name is given,
@@ -2663,18 +2644,18 @@
 as the fallback for both.  When cloning a repository, the clone
 source is written as \fBdefault\fP in \fB.hg/hgrc\fP.  Note that
 \fBdefault\fP and \fBdefault\-push\fP apply to all inbound (e.g.
-\%\fBhg incoming\fP\:) and outbound (e.g. \%\fBhg outgoing\fP\:, \%\fBhg email\fP\: and
-\%\fBhg bundle\fP\:) operations.
+\fBhg incoming\fP) and outbound (e.g. \fBhg outgoing\fP, \fBhg email\fP and
+\fBhg bundle\fP) operations.
 .sp
-See \%\fBhg help urls\fP\: for more information.
+See \fBhg help urls\fP for more information.
 .sp
 Returns 0 on success.
 .SS phase
 .sp
 .nf
-.ft C
+.ft
 hg phase [\-p|\-d|\-s] [\-f] [\-r] REV...
-.ft P
+.ft
 .fi
 .sp
 With no argument, show the phase name of specified revisions.
@@ -2682,13 +2663,13 @@
 With one of \-p/\-\-public, \-d/\-\-draft or \-s/\-\-secret, change the
 phase value of the specified revisions.
 .sp
-Unless \-f/\-\-force is specified, \%\fBhg phase\fP\: won\(aqt move changeset from a
+Unless \-f/\-\-force is specified, \fBhg phase\fP won't move changeset from a
 lower phase to an higher phase. Phases are ordered as follows:
 .sp
 .nf
-.ft C
+.ft
 public < draft < secret
-.ft P
+.ft
 .fi
 .sp
 Return 0 on success, 1 if no phases were changed or some could not
@@ -2720,9 +2701,9 @@
 .SS pull
 .sp
 .nf
-.ft C
+.ft
 hg pull [\-u] [\-f] [\-r REV]... [\-e CMD] [\-\-remotecmd CMD] [SOURCE]
-.ft P
+.ft
 .fi
 .sp
 Pull changes from a remote repository to a local one.
@@ -2732,13 +2713,13 @@
 \-R is specified). By default, this does not update the copy of the
 project in the working directory.
 .sp
-Use \%\fBhg incoming\fP\: if you want to see what would have been added
+Use \fBhg incoming\fP if you want to see what would have been added
 by a pull at the time you issued this command. If you then decide
-to add those changes to the repository, you should use \%\fBhg pull
-\-r X\fP\: where \fBX\fP is the last changeset listed by \%\fBhg incoming\fP\:.
+to add those changes to the repository, you should use \fBhg pull
+\-r X\fP where \fBX\fP is the last changeset listed by \fBhg incoming\fP.
 .sp
-If SOURCE is omitted, the \(aqdefault\(aq path will be used.
-See \%\fBhg help urls\fP\: for more information.
+If SOURCE is omitted, the 'default' path will be used.
+See \fBhg help urls\fP for more information.
 .sp
 Returns 0 on success, 1 if an update had unresolved files.
 .sp
@@ -2780,9 +2761,9 @@
 .SS push
 .sp
 .nf
-.ft C
+.ft
 hg push [\-f] [\-r REV]... [\-e CMD] [\-\-remotecmd CMD] [DEST]
-.ft P
+.ft
 .fi
 .sp
 Push changesets from the local repository to the specified
@@ -2806,7 +2787,7 @@
 If \-r/\-\-rev is used, the specified revision and all its ancestors
 will be pushed to the remote repository.
 .sp
-Please see \%\fBhg help urls\fP\: for important details about \fBssh://\fP
+Please see \fBhg help urls\fP for important details about \fBssh://\fP
 URLs. If DESTINATION is omitted, a default path will be used.
 .sp
 Returns 0 if push was successful, 1 if nothing to push.
@@ -2849,9 +2830,9 @@
 .SS recover
 .sp
 .nf
-.ft C
+.ft
 hg recover
-.ft P
+.ft
 .fi
 .sp
 Recover from an interrupted commit or pull.
@@ -2864,16 +2845,16 @@
 .SS remove
 .sp
 .nf
-.ft C
+.ft
 hg remove [OPTION]... FILE...
-.ft P
+.ft
 .fi
 .sp
 Schedule the indicated files for removal from the current branch.
 .sp
 This command schedules the files to be removed at the next commit.
-To undo a remove before that, see \%\fBhg revert\fP\:. To undo added
-files, see \%\fBhg forget\fP\:.
+To undo a remove before that, see \fBhg revert\fP. To undo added
+files, see \fBhg forget\fP.
 .sp
 \-A/\-\-after can be used to remove only files that have already
 been deleted, \-f/\-\-force can be used to force deletion, and \-Af
@@ -2883,7 +2864,7 @@
 The following table details the behavior of remove for different
 file states (columns) and option combinations (rows). The file
 states are Added [A], Clean [C], Modified [M] and Missing [!]
-(as reported by \%\fBhg status\fP\:). The actions are Warn, Remove
+(as reported by \fBhg status\fP). The actions are Warn, Remove
 (from branch) and Delete (from disk):
 .TS
 center;
@@ -2975,9 +2956,9 @@
 .SS rename
 .sp
 .nf
-.ft C
+.ft
 hg rename [OPTION]... SOURCE... DEST
-.ft P
+.ft
 .fi
 .sp
 Mark dest as copies of sources; mark sources for deletion. If dest
@@ -2989,7 +2970,7 @@
 operation is recorded, but no copying is performed.
 .sp
 This command takes effect at the next commit. To undo a rename
-before that, see \%\fBhg revert\fP\:.
+before that, see \fBhg revert\fP.
 .sp
 Returns 0 on success, 1 if errors are encountered.
 .sp
@@ -3021,9 +3002,9 @@
 .SS resolve
 .sp
 .nf
-.ft C
+.ft
 hg resolve [OPTION]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
 Merges with unresolved conflicts are often the result of
@@ -3030,15 +3011,15 @@
 non\-interactive merging using the \fBinternal:merge\fP configuration
 setting, or a command\-line merge tool like \fBdiff3\fP. The resolve
 command is used to manage the files involved in a merge, after
-\%\fBhg merge\fP\: has been run, and before \%\fBhg commit\fP\: is run (i.e. the
-working directory must have two parents). See \%\fBhg help
-merge\-tools\fP\: for information on configuring merge tools.
+\fBhg merge\fP has been run, and before \fBhg commit\fP is run (i.e. the
+working directory must have two parents). See \fBhg help
+merge\-tools\fP for information on configuring merge tools.
 .sp
 The resolve command can be used in the following ways:
 .INDENT 0.0
 .IP \(bu 2
 .
-\%\fBhg resolve [\-\-tool TOOL] FILE...\fP\:: attempt to re\-merge the specified
+\fBhg resolve [\-\-tool TOOL] FILE...\fP: attempt to re\-merge the specified
 files, discarding any previous merge attempts. Re\-merging is not
 performed for files already marked as resolved. Use \fB\-\-all/\-a\fP
 to select all unresolved files. \fB\-\-tool\fP can be used to specify
@@ -3047,21 +3028,21 @@
 contents are saved with a \fB.orig\fP suffix.
 .IP \(bu 2
 .
-\%\fBhg resolve \-m [FILE]\fP\:: mark a file as having been resolved
+\fBhg resolve \-m [FILE]\fP: mark a file as having been resolved
 (e.g. after having manually fixed\-up the files). The default is
 to mark all unresolved files.
 .IP \(bu 2
 .
-\%\fBhg resolve \-u [FILE]...\fP\:: mark a file as unresolved. The
+\fBhg resolve \-u [FILE]...\fP: mark a file as unresolved. The
 default is to mark all resolved files.
 .IP \(bu 2
 .
-\%\fBhg resolve \-l\fP\:: list files which had or still have conflicts.
+\fBhg resolve \-l\fP: list files which had or still have conflicts.
 In the printed list, \fBU\fP = unresolved and \fBR\fP = resolved.
 .UNINDENT
 .sp
 Note that Mercurial will not let you commit files with unresolved
-merge conflicts. You must use \%\fBhg resolve \-m ...\fP\: before you can
+merge conflicts. You must use \fBhg resolve \-m ...\fP before you can
 commit after a conflicting merge.
 .sp
 Returns 0 on success, 1 if any files fail a resolve attempt.
@@ -3104,14 +3085,15 @@
 .SS revert
 .sp
 .nf
-.ft C
+.ft
 hg revert [OPTION]... [\-r REV] [NAME]...
-.ft P
+.ft
 .fi
+.RS 0
 .IP Note
 .
-To check out earlier revisions, you should use \%\fBhg update REV\fP\:.
-To cancel a merge (and lose your changes), use \%\fBhg update \-\-clean .\fP\:.
+To check out earlier revisions, you should use \fBhg update REV\fP.
+To cancel a merge (and lose your changes), use \fBhg update \-\-clean .\fP.
 .RE
 .sp
 With no revision specified, revert the specified files or directories
@@ -3125,13 +3107,13 @@
 directories to their states as of a specific revision. Because
 revert does not change the working directory parents, this will
 cause these files to appear modified. This can be helpful to "back
-out" some or all of an earlier change. See \%\fBhg backout\fP\: for a
+out" some or all of an earlier change. See \fBhg backout\fP for a
 related method.
 .sp
 Modified files are saved with a .orig suffix before reverting.
 To disable these backups, use \-\-no\-backup.
 .sp
-See \%\fBhg help dates\fP\: for a list of formats valid for \-d/\-\-date.
+See \fBhg help dates\fP for a list of formats valid for \-d/\-\-date.
 .sp
 Returns 0 on success.
 .sp
@@ -3169,9 +3151,9 @@
 .SS rollback
 .sp
 .nf
-.ft C
+.ft
 hg rollback
-.ft P
+.ft
 .fi
 .sp
 This command should be used with care. There is only one level of
@@ -3203,7 +3185,7 @@
 .UNINDENT
 .sp
 To avoid permanent data loss, rollback will refuse to rollback a
-commit transaction if it isn\(aqt checked out. Use \-\-force to
+commit transaction if it isn't checked out. Use \-\-force to
 override this protection.
 .sp
 This command is not intended for use on public repositories. Once
@@ -3229,9 +3211,9 @@
 .SS root
 .sp
 .nf
-.ft C
+.ft
 hg root
-.ft P
+.ft
 .fi
 .sp
 Print the root directory of the current repository.
@@ -3240,9 +3222,9 @@
 .SS serve
 .sp
 .nf
-.ft C
+.ft
 hg serve [OPTION]...
-.ft P
+.ft
 .fi
 .sp
 Start a local HTTP repository browser and pull server. You can use
@@ -3340,9 +3322,9 @@
 .SS showconfig
 .sp
 .nf
-.ft C
+.ft
 hg showconfig [\-u] [NAME]...
-.ft P
+.ft
 .fi
 .sp
 With no arguments, print names and values of all config items.
@@ -3370,9 +3352,9 @@
 .SS status
 .sp
 .nf
-.ft C
+.ft
 hg status [OPTION]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
 Show status of files in the repository. If names are given, only
@@ -3384,6 +3366,7 @@
 .sp
 Option \-q/\-\-quiet hides untracked (unknown and ignored) files
 unless explicitly requested with \-u/\-\-unknown or \-i/\-\-ignored.
+.RS 0
 .IP Note
 .
 status may appear to disagree with diff if permissions have
@@ -3400,7 +3383,7 @@
 The codes used to show the status of files are:
 .sp
 .nf
-.ft C
+.ft
 M = modified
 A = added
 R = removed
@@ -3409,7 +3392,7 @@
 ? = not tracked
 I = ignored
   = origin of the previous file listed as A (added)
-.ft P
+.ft
 .fi
 .sp
 Examples:
@@ -3420,9 +3403,9 @@
 changeset:
 .sp
 .nf
-.ft C
+.ft
 hg status \-\-rev 9353
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -3429,9 +3412,9 @@
 show all changes including copies in an existing changeset:
 .sp
 .nf
-.ft C
+.ft
 hg status \-\-copies \-\-change 9353
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -3438,9 +3421,9 @@
 get a NUL separated list of added files, suitable for xargs:
 .sp
 .nf
-.ft C
+.ft
 hg status \-an0
-.ft P
+.ft
 .fi
 .UNINDENT
 .sp
@@ -3518,9 +3501,9 @@
 .SS summary
 .sp
 .nf
-.ft C
+.ft
 hg summary [\-\-remote]
-.ft P
+.ft
 .fi
 .sp
 This generates a brief summary of the working directory state,
@@ -3543,9 +3526,9 @@
 .SS tag
 .sp
 .nf
-.ft C
+.ft
 hg tag [\-f] [\-l] [\-m TEXT] [\-d DATE] [\-u USER] [\-r REV] NAME...
-.ft P
+.ft
 .fi
 .sp
 Name a particular revision using <name>.
@@ -3566,11 +3549,11 @@
 repositories).
 .sp
 Tag commits are usually made at the head of a branch. If the parent
-of the working directory is not a branch head, \%\fBhg tag\fP\: aborts; use
+of the working directory is not a branch head, \fBhg tag\fP aborts; use
 \-f/\-\-force to force the tag commit to be based on a non\-head
 changeset.
 .sp
-See \%\fBhg help dates\fP\: for a list of formats valid for \-d/\-\-date.
+See \fBhg help dates\fP for a list of formats valid for \-d/\-\-date.
 .sp
 Since tag names have priority over branch names during revision
 lookup, using an existing branch name as a tag name is discouraged.
@@ -3615,9 +3598,9 @@
 .SS tags
 .sp
 .nf
-.ft C
+.ft
 hg tags
-.ft P
+.ft
 .fi
 .sp
 This lists both regular and local tags. When the \-v/\-\-verbose
@@ -3627,9 +3610,9 @@
 .SS tip
 .sp
 .nf
-.ft C
+.ft
 hg tip [\-p] [\-g]
-.ft P
+.ft
 .fi
 .sp
 The tip revision (usually just called the tip) is the changeset
@@ -3665,9 +3648,9 @@
 .SS unbundle
 .sp
 .nf
-.ft C
+.ft
 hg unbundle [\-u] FILE...
-.ft P
+.ft
 .fi
 .sp
 Apply one or more compressed changegroup files generated by the
@@ -3685,24 +3668,24 @@
 .SS update
 .sp
 .nf
-.ft C
+.ft
 hg update [\-c] [\-C] [\-d DATE] [[\-r] REV]
-.ft P
+.ft
 .fi
 .sp
-Update the repository\(aqs working directory to the specified
+Update the repository's working directory to the specified
 changeset. If no changeset is specified, update to the tip of the
-current named branch and move the current bookmark (see \%\fBhg help
-bookmarks\fP\:).
+current named branch and move the current bookmark (see \fBhg help
+bookmarks\fP).
 .sp
-If the changeset is not a descendant of the working directory\(aqs
+If the changeset is not a descendant of the working directory's
 parent, the update is aborted. With the \-c/\-\-check option, the
 working directory is checked for uncommitted changes; if none are
 found, the working directory is updated to the specified
 changeset.
 .sp
-Update sets the working directory\(aqs parent revison to the specified
-changeset (see \%\fBhg help parents\fP\:).
+Update sets the working directory's parent revison to the specified
+changeset (see \fBhg help parents\fP).
 .sp
 The following rules apply when the working directory contains
 uncommitted changes:
@@ -3711,7 +3694,7 @@
 .
 If neither \-c/\-\-check nor \-C/\-\-clean is specified, and if
 the requested changeset is an ancestor or descendant of
-the working directory\(aqs parent, the uncommitted changes
+the working directory's parent, the uncommitted changes
 are merged into the requested changeset and the merged
 result is left uncommitted. If the requested changeset is
 not an ancestor or descendant (that is, it is on another
@@ -3728,12 +3711,12 @@
 .UNINDENT
 .sp
 Use null as the changeset to remove the working directory (like
-\%\fBhg clone \-U\fP\:).
+\fBhg clone \-U\fP).
 .sp
 If you want to revert just one file to an older revision, use
-\%\fBhg revert [\-r REV] NAME\fP\:.
+\fBhg revert [\-r REV] NAME\fP.
 .sp
-See \%\fBhg help dates\fP\: for a list of formats valid for \-d/\-\-date.
+See \fBhg help dates\fP for a list of formats valid for \-d/\-\-date.
 .sp
 Returns 0 on success, 1 if there are unresolved files.
 .sp
@@ -3761,14 +3744,14 @@
 .SS verify
 .sp
 .nf
-.ft C
+.ft
 hg verify
-.ft P
+.ft
 .fi
 .sp
 Verify the integrity of the current repository.
 .sp
-This will perform an extensive check of the repository\(aqs
+This will perform an extensive check of the repository's
 integrity, validating the hashes and checksums of each entry in
 the changelog, manifest, and tracked files, as well as the
 integrity of their crosslinks and indices.
@@ -3777,9 +3760,9 @@
 .SS version
 .sp
 .nf
-.ft C
+.ft
 hg version
-.ft P
+.ft
 .fi
 .sp
 output version and copyright information
@@ -3838,7 +3821,7 @@
 \fB12/6/6\fP (Dec 6 2006)
 .UNINDENT
 .sp
-Lastly, there is Mercurial\(aqs internal format:
+Lastly, there is Mercurial's internal format:
 .INDENT 0.0
 .IP \(bu 2
 .
@@ -3867,7 +3850,7 @@
 .UNINDENT
 .SH DIFF FORMATS
 .sp
-Mercurial\(aqs default format for showing changes between two versions of
+Mercurial's default format for showing changes between two versions of
 a file is compatible with the unified format of GNU diff, which can be
 used by GNU patch and many other standard tools.
 .sp
@@ -3894,15 +3877,15 @@
 format.
 .sp
 This means that when generating diffs from a Mercurial repository
-(e.g. with \%\fBhg export\fP\:), you should be careful about things like file
+(e.g. with \fBhg export\fP), you should be careful about things like file
 copies and renames or other things mentioned above, because when
 applying a standard diff to a different repository, this extra
-information is lost. Mercurial\(aqs internal operations (like push and
+information is lost. Mercurial's internal operations (like push and
 pull) are not affected by this, because they use an internal binary
 format for communicating changes.
 .sp
 To make Mercurial produce the git extended diff format, use the \-\-git
-option available for many commands, or set \(aqgit = True\(aq in the [diff]
+option available for many commands, or set 'git = True' in the [diff]
 section of your configuration file. You do not need to set this option
 when importing diffs in this format or using them in the mq extension.
 .SH ENVIRONMENT VARIABLES
@@ -3910,10 +3893,10 @@
 .TP
 .B HG
 .
-Path to the \(aqhg\(aq executable, automatically passed when running
+Path to the 'hg' executable, automatically passed when running
 hooks, extensions or external tools. If unset or empty, this is
-the hg executable\(aqs name if it\(aqs frozen, or an executable named
-\(aqhg\(aq (with %PATHEXT% [defaulting to COM/EXE/BAT/CMD] extensions on
+the hg executable's name if it's frozen, or an executable named
+'hg' (with %PATHEXT% [defaulting to COM/EXE/BAT/CMD] extensions on
 Windows) is searched.
 .TP
 .B HGEDITOR
@@ -3931,9 +3914,9 @@
 .TP
 .B HGENCODINGMODE
 .
-This sets Mercurial\(aqs behavior for handling unknown characters
+This sets Mercurial's behavior for handling unknown characters
 while transcoding user input. The default is "strict", which
-causes Mercurial to abort if it can\(aqt map a character. Other
+causes Mercurial to abort if it can't map a character. Other
 settings include "replace", which replaces unknown characters, and
 "ignore", which drops them. This setting can be overridden with
 the \-\-encodingmode command\-line option.
@@ -3940,7 +3923,7 @@
 .TP
 .B HGENCODINGAMBIGUOUS
 .
-This sets Mercurial\(aqs behavior for handling characters with
+This sets Mercurial's behavior for handling characters with
 "ambiguous" widths like accented Latin characters with East Asian
 fonts. By default, Mercurial assumes ambiguous characters are
 narrow, set this variable to "wide" if such characters cause
@@ -3965,7 +3948,7 @@
 .INDENT 7.0
 .IP \(bu 2
 .
-if it\(aqs a directory, all files ending with .rc are added
+if it's a directory, all files ending with .rc are added
 .IP \(bu 2
 .
 otherwise, the file itself will be added
@@ -3974,7 +3957,7 @@
 .B HGPLAIN
 .
 When set, this disables any configuration settings that might
-change Mercurial\(aqs default output. This includes encoding,
+change Mercurial's default output. This includes encoding,
 defaults, verbose mode, debug mode, quiet mode, tracebacks, and
 localization. This can be useful when scripting against Mercurial
 in the face of existing user configuration.
@@ -4034,7 +4017,7 @@
 editor it uses is determined by looking at the environment
 variables HGEDITOR, VISUAL and EDITOR, in that order. The first
 non\-empty one is chosen. If all of them are empty, the editor
-defaults to \(aqvi\(aq.
+defaults to 'vi'.
 .TP
 .B PYTHONPATH
 .
@@ -4061,19 +4044,19 @@
 like this:
 .sp
 .nf
-.ft C
+.ft
 [extensions]
 foo =
-.ft P
+.ft
 .fi
 .sp
 You may also specify the full path to an extension:
 .sp
 .nf
-.ft C
+.ft
 [extensions]
 myfeature = ~/.hgext/myfeature.py
-.ft P
+.ft
 .fi
 .sp
 To explicitly disable an extension enabled in a configuration file of
@@ -4080,13 +4063,13 @@
 broader scope, prepend its path with !:
 .sp
 .nf
-.ft C
+.ft
 [extensions]
 # disabling extension bar residing in /path/to/extension/bar.py
 bar = !/path/to/extension/bar.py
 # ditto, but no path was supplied for extension baz
 baz = !
-.ft P
+.ft
 .fi
 .sp
 disabled extensions:
@@ -4156,7 +4139,7 @@
 .TP
 .B inotify
 .
-accelerate status report using Linux\(aqs inotify service
+accelerate status report using Linux's inotify service
 .TP
 .B interhg
 .
@@ -4238,7 +4221,7 @@
 files.
 .sp
 Like other file patterns, this pattern type is indicated by a prefix,
-\(aqset:\(aq. The language supports a number of predicates which are joined
+'set:'. The language supports a number of predicates which are joined
 by infix operators. Parenthesis can be used for grouping.
 .sp
 Identifiers such as filenames or patterns must be quoted with single
@@ -4249,7 +4232,7 @@
 .sp
 Special characters can be used in quoted identifiers by escaping them,
 e.g., \fB\en\fP is interpreted as a newline. To prevent them from being
-interpreted, strings can be prefixed with \fBr\fP, e.g. \fBr\(aq...\(aq\fP.
+interpreted, strings can be prefixed with \fBr\fP, e.g. \fBr'...'\fP.
 .sp
 There is a single prefix operator:
 .INDENT 0.0
@@ -4377,9 +4360,9 @@
 Show status of files that appear to be binary in the working directory:
 .sp
 .nf
-.ft C
+.ft
 hg status \-A "set:binary()"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -4386,9 +4369,9 @@
 Forget files that are in .hgignore but are already tracked:
 .sp
 .nf
-.ft C
+.ft
 hg forget "set:hgignore() and not ignored()"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -4395,9 +4378,9 @@
 Find text files that contain a string:
 .sp
 .nf
-.ft C
+.ft
 hg locate "set:grep(magic) and not binary()"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -4404,9 +4387,9 @@
 Find C files in a non\-standard encoding:
 .sp
 .nf
-.ft C
-hg locate "set:**.c and not encoding(\(aqUTF\-8\(aq)"
-.ft P
+.ft
+hg locate "set:**.c and not encoding('UTF\-8')"
+.ft
 .fi
 .IP \(bu 2
 .
@@ -4413,9 +4396,9 @@
 Revert copies of large binary files:
 .sp
 .nf
-.ft C
-hg revert "set:copied() and binary() and size(\(aq>1M\(aq)"
-.ft P
+.ft
+hg revert "set:copied() and binary() and size('>1M')"
+.ft
 .fi
 .IP \(bu 2
 .
@@ -4422,13 +4405,13 @@
 Remove files listed in foo.lst that contain the letter a or b:
 .sp
 .nf
-.ft C
-hg remove "set: \(aqlistfile:foo.lst\(aq and (**a* or **b*)"
-.ft P
+.ft
+hg remove "set: 'listfile:foo.lst' and (**a* or **b*)"
+.ft
 .fi
 .UNINDENT
 .sp
-See also \%\fBhg help patterns\fP\:.
+See also \fBhg help patterns\fP.
 .SH GLOSSARY
 .INDENT 0.0
 .TP
@@ -4438,7 +4421,7 @@
 changesets from a given changeset. More precisely, the ancestors
 of a changeset can be defined by two properties: a parent of a
 changeset is an ancestor, and a parent of an ancestor is an
-ancestor. See also: \(aqDescendant\(aq.
+ancestor. See also: 'Descendant'.
 .TP
 .B Bookmark
 .
@@ -4445,7 +4428,7 @@
 Bookmarks are pointers to certain commits that move when
 committing. They are similar to tags in that it is possible to use
 bookmark names in all places where Mercurial expects a changeset
-ID, e.g., with \%\fBhg update\fP\:. Unlike tags, bookmarks move along
+ID, e.g., with \fBhg update\fP. Unlike tags, bookmarks move along
 when you make a commit.
 .sp
 Bookmarks can be renamed, copied and deleted. Bookmarks are local,
@@ -4457,9 +4440,9 @@
 .
 (Noun) A child changeset that has been created from a parent that
 is not a head. These are known as topological branches, see
-\(aqBranch, topological\(aq. If a topological branch is named, it becomes
+'Branch, topological'. If a topological branch is named, it becomes
 a named branch. If a topological branch is not named, it becomes
-an anonymous branch. See \(aqBranch, anonymous\(aq and \(aqBranch, named\(aq.
+an anonymous branch. See 'Branch, anonymous' and 'Branch, named'.
 .sp
 Branches may be created when changes are pulled from or pushed to
 a remote repository, since new heads may be created by these
@@ -4474,7 +4457,7 @@
 (Verb) The action of creating a child changeset which results in
 its parent having more than one child.
 .sp
-Example: "I\(aqm going to branch at X".
+Example: "I'm going to branch at X".
 .TP
 .B Branch, anonymous
 .
@@ -4493,19 +4476,19 @@
 .TP
 .B Branch head
 .
-See \(aqHead, branch\(aq.
+See 'Head, branch'.
 .TP
 .B Branch, inactive
 .
 If a named branch has no topological heads, it is considered to be
 inactive. As an example, a feature branch becomes inactive when it
-is merged into the default branch. The \%\fBhg branches\fP\: command
+is merged into the default branch. The \fBhg branches\fP command
 shows inactive branches by default, though they can be hidden with
-\%\fBhg branches \-\-active\fP\:.
+\fBhg branches \-\-active\fP.
 .sp
 NOTE: this concept is deprecated because it is too implicit.
-Branches should now be explicitly closed using \%\fBhg commit
-\-\-close\-branch\fP\: when they are no longer needed.
+Branches should now be explicitly closed using \fBhg commit
+\-\-close\-branch\fP when they are no longer needed.
 .TP
 .B Branch, named
 .
@@ -4512,8 +4495,8 @@
 A collection of changesets which have the same branch name. By
 default, children of a changeset in a named branch belong to the
 same named branch. A child can be explicitly assigned to a
-different branch. See \%\fBhg help branch\fP\:, \%\fBhg help branches\fP\: and
-\%\fBhg commit \-\-close\-branch\fP\: for more information on managing
+different branch. See \fBhg help branch\fP, \fBhg help branches\fP and
+\fBhg commit \-\-close\-branch\fP for more information on managing
 branches.
 .sp
 Named branches can be thought of as a kind of namespace, dividing
@@ -4526,7 +4509,7 @@
 .TP
 .B Branch tip
 .
-See \(aqTip, branch\(aq.
+See 'Tip, branch'.
 .TP
 .B Branch, topological
 .
@@ -4576,24 +4559,24 @@
 revision. This use should probably be avoided where possible, as
 changeset is much more appropriate than checkout in this context.
 .sp
-Example: "I\(aqm using checkout X."
+Example: "I'm using checkout X."
 .sp
 (Verb) Updating the working directory to a specific changeset. See
-\%\fBhg help update\fP\:.
+\fBhg help update\fP.
 .sp
-Example: "I\(aqm going to check out changeset X."
+Example: "I'm going to check out changeset X."
 .TP
 .B Child changeset
 .
-See \(aqChangeset, child\(aq.
+See 'Changeset, child'.
 .TP
 .B Close changeset
 .
-See \(aqHead, closed branch\(aq
+See 'Head, closed branch'
 .TP
 .B Closed branch
 .
-See \(aqBranch, closed\(aq.
+See 'Branch, closed'.
 .TP
 .B Clone
 .
@@ -4602,13 +4585,13 @@
 .sp
 Example: "Is your clone up to date?".
 .sp
-(Verb) The process of creating a clone, using \%\fBhg clone\fP\:.
+(Verb) The process of creating a clone, using \fBhg clone\fP.
 .sp
-Example: "I\(aqm going to clone the repository".
+Example: "I'm going to clone the repository".
 .TP
 .B Closed branch head
 .
-See \(aqHead, closed branch\(aq.
+See 'Head, closed branch'.
 .TP
 .B Commit
 .
@@ -4633,13 +4616,13 @@
 system (DVCS) can be described as a directed acyclic graph (DAG),
 consisting of nodes and edges, where nodes correspond to
 changesets and edges imply a parent \-> child relation. This graph
-can be visualized by graphical tools such as \%\fBhg glog\fP\:
+can be visualized by graphical tools such as \fBhg glog\fP
 (graphlog). In Mercurial, the DAG is limited by the requirement
 for children to have at most two parents.
 .TP
 .B Default branch
 .
-See \(aqBranch, default\(aq.
+See 'Branch, default'.
 .TP
 .B Descendant
 .
@@ -4647,7 +4630,7 @@
 from a given changeset. More precisely, the descendants of a
 changeset can be defined by two properties: the child of a
 changeset is a descendant, and the child of a descendant is a
-descendant. See also: \(aqAncestor\(aq.
+descendant. See also: 'Ancestor'.
 .TP
 .B Diff
 .
@@ -4672,7 +4655,7 @@
 Mercurial, that will be recorded in the next commit. The working
 directory initially corresponds to the snapshot at an existing
 changeset, known as the parent of the working directory. See
-\(aqParent, working directory\(aq. The state may be modified by changes
+'Parent, working directory'. The state may be modified by changes
 to the files introduced manually or by a merge. The repository
 metadata exists in the .hg directory inside the working directory.
 .TP
@@ -4680,17 +4663,17 @@
 .
 Changesets in the draft phase have not been shared with publishing
 repositories and may thus be safely changed by history\-modifying
-extensions. See \%\fBhg help phases\fP\:.
+extensions. See \fBhg help phases\fP.
 .TP
 .B Graph
 .
-See DAG and \%\fBhg help graphlog\fP\:.
+See DAG and \fBhg help graphlog\fP.
 .TP
 .B Head
 .
-The term \(aqhead\(aq may be used to refer to both a branch head or a
-repository head, depending on the context. See \(aqHead, branch\(aq and
-\(aqHead, repository\(aq for specific definitions.
+The term 'head' may be used to refer to both a branch head or a
+repository head, depending on the context. See 'Head, branch' and
+'Head, repository' for specific definitions.
 .sp
 Heads are where development generally takes place and are the
 usual targets for update and merge operations.
@@ -4702,9 +4685,9 @@
 .B Head, closed branch
 .
 A changeset that marks a head as no longer interesting. The closed
-head is no longer listed by \%\fBhg heads\fP\:. A branch is considered
+head is no longer listed by \fBhg heads\fP. A branch is considered
 closed when all its heads are closed and consequently is not
-listed by \%\fBhg branches\fP\:.
+listed by \fBhg branches\fP.
 .sp
 Closed heads can be re\-opened by committing new changeset as the
 child of the changeset that marks a head as closed.
@@ -4733,11 +4716,11 @@
 .TP
 .B Immutable history
 .
-See \(aqHistory, immutable\(aq.
+See 'History, immutable'.
 .TP
 .B Merge changeset
 .
-See \(aqChangeset, merge\(aq.
+See 'Changeset, merge'.
 .TP
 .B Manifest
 .
@@ -4754,7 +4737,7 @@
 .TP
 .B Named branch
 .
-See \(aqBranch, named\(aq.
+See 'Branch, named'.
 .TP
 .B Null changeset
 .
@@ -4761,30 +4744,30 @@
 The empty changeset. It is the parent state of newly\-initialized
 repositories and repositories with no checked out revision. It is
 thus the parent of root changesets and the effective ancestor when
-merging unrelated changesets. Can be specified by the alias \(aqnull\(aq
-or by the changeset ID \(aq000000000000\(aq.
+merging unrelated changesets. Can be specified by the alias 'null'
+or by the changeset ID '000000000000'.
 .TP
 .B Parent
 .
-See \(aqChangeset, parent\(aq.
+See 'Changeset, parent'.
 .TP
 .B Parent changeset
 .
-See \(aqChangeset, parent\(aq.
+See 'Changeset, parent'.
 .TP
 .B Parent, working directory
 .
 The working directory parent reflects a virtual revision which is
 the child of the changeset (or two changesets with an uncommitted
-merge) shown by \%\fBhg parents\fP\:. This is changed with
-\%\fBhg update\fP\:. Other commands to see the working directory parent
-are \%\fBhg summary\fP\: and \%\fBhg id\fP\:. Can be specified by the alias ".".
+merge) shown by \fBhg parents\fP. This is changed with
+\fBhg update\fP. Other commands to see the working directory parent
+are \fBhg summary\fP and \fBhg id\fP. Can be specified by the alias ".".
 .TP
 .B Patch
 .
 (Noun) The product of a diff operation.
 .sp
-Example: "I\(aqve sent you my patch."
+Example: "I've sent you my patch."
 .sp
 (Verb) The process of using a patch file to transform one
 changeset into another.
@@ -4794,13 +4777,13 @@
 .B Phase
 .
 A per\-changeset state tracking how the changeset has been or
-should be shared. See \%\fBhg help phases\fP\:.
+should be shared. See \fBhg help phases\fP.
 .TP
 .B Public
 .
 Changesets in the public phase have been shared with publishing
-repositories and are therefore considered immutable. See \%\fBhg help
-phases\fP\:.
+repositories and are therefore considered immutable. See \fBhg help
+phases\fP.
 .TP
 .B Pull
 .
@@ -4808,7 +4791,7 @@
 not in the local repository are brought into the local
 repository. Note that this operation without special arguments
 only updates the repository, it does not update the files in the
-working directory. See \%\fBhg help pull\fP\:.
+working directory. See \fBhg help pull\fP.
 .TP
 .B Push
 .
@@ -4816,7 +4799,7 @@
 not in a remote repository are sent to the remote repository. Note
 that this operation only adds changesets which have been committed
 locally to the remote repository. Uncommitted changes are not
-sent. See \%\fBhg help push\fP\:.
+sent. See \fBhg help push\fP.
 .TP
 .B Repository
 .
@@ -4829,13 +4812,13 @@
 .TP
 .B Repository head
 .
-See \(aqHead, repository\(aq.
+See 'Head, repository'.
 .TP
 .B Revision
 .
 A state of the repository at some point in time. Earlier revisions
-can be updated to by using \%\fBhg update\fP\:.  See also \(aqRevision
-number\(aq; See also \(aqChangeset\(aq.
+can be updated to by using \fBhg update\fP.  See also 'Revision
+number'; See also 'Changeset'.
 .TP
 .B Revision number
 .
@@ -4844,7 +4827,7 @@
 to a repository, starting with revision number 0. Note that the
 revision number may be different in each clone of a repository. To
 identify changesets uniquely between different clones, see
-\(aqChangeset id\(aq.
+'Changeset id'.
 .TP
 .B Revlog
 .
@@ -4855,7 +4838,7 @@
 .TP
 .B Rewriting history
 .
-See \(aqHistory, rewriting\(aq.
+See 'History, rewriting'.
 .TP
 .B Root
 .
@@ -4865,13 +4848,13 @@
 .B Secret
 .
 Changesets in the secret phase may not be shared via push, pull,
-or clone. See \%\fBhg help phases\fP\:.
+or clone. See \fBhg help phases\fP.
 .TP
 .B Tag
 .
 An alternative name given to a changeset. Tags can be used in all
 places where Mercurial expects a changeset ID, e.g., with
-\%\fBhg update\fP\:. The creation of a tag is stored in the history and
+\fBhg update\fP. The creation of a tag is stored in the history and
 will thus automatically be shared with other using push and pull.
 .TP
 .B Tip
@@ -4883,7 +4866,7 @@
 .
 The head of a given branch with the highest revision number. When
 a branch name is used as a revision identifier, it refers to the
-branch tip. See also \(aqBranch, head\(aq. Note that because revision
+branch tip. See also 'Branch, head'. Note that because revision
 numbers may be different in different repository clones, the
 branch tip may be different in different cloned repositories.
 .TP
@@ -4891,21 +4874,21 @@
 .
 (Noun) Another synonym of changeset.
 .sp
-Example: "I\(aqve pushed an update".
+Example: "I've pushed an update".
 .sp
 (Verb) This term is usually used to describe updating the state of
 the working directory to that of a specific changeset. See
-\%\fBhg help update\fP\:.
+\fBhg help update\fP.
 .sp
 Example: "You should update".
 .TP
 .B Working directory
 .
-See \(aqDirectory, working\(aq.
+See 'Directory, working'.
 .TP
 .B Working directory parent
 .
-See \(aqParent, working directory\(aq.
+See 'Parent, working directory'.
 .UNINDENT
 .SH SYNTAX FOR MERCURIAL IGNORE FILES
 .SH SYNOPSIS
@@ -4933,12 +4916,12 @@
 .sp
 In addition, a Mercurial configuration file can reference a set of
 per\-user or global ignore files. See the \fBignore\fP configuration
-key on the \fB[ui]\fP section of \%\fBhg help config\fP\: for details of how to
+key on the \fB[ui]\fP section of \fBhg help config\fP for details of how to
 configure these files.
 .sp
-To control Mercurial\(aqs handling of files that it manages, many
+To control Mercurial's handling of files that it manages, many
 commands support the \fB\-I\fP and \fB\-X\fP options; see
-\%\fBhg help <command>\fP\: and \%\fBhg help patterns\fP\: for details.
+\fBhg help <command>\fP and \fBhg help patterns\fP for details.
 .SH SYNTAX
 .sp
 An ignore file is a plain text file consisting of a list of patterns,
@@ -4952,9 +4935,9 @@
 To change the syntax used, use a line of the following form:
 .sp
 .nf
-.ft C
+.ft
 syntax: NAME
-.ft P
+.ft
 .fi
 .sp
 where \fBNAME\fP is one of the following:
@@ -4976,10 +4959,11 @@
 the form \fB*.c\fP will match a file ending in \fB.c\fP in any directory,
 and a regexp pattern of the form \fB\e.c$\fP will do the same. To root a
 regexp pattern, start it with \fB^\fP.
+.RS 0
 .IP Note
 .
 Patterns specified in other than \fB.hgignore\fP are always rooted.
-Please see \%\fBhg help patterns\fP\: for details.
+Please see \fBhg help patterns\fP for details.
 .RE
 .SH EXAMPLE
 .sp
@@ -4986,7 +4970,7 @@
 Here is an example ignore file.
 .sp
 .nf
-.ft C
+.ft
 # use glob syntax.
 syntax: glob
 
@@ -4997,11 +4981,11 @@
 # switch to regexp syntax.
 syntax: regexp
 ^\e.pc/
-.ft P
+.ft
 .fi
 .SH CONFIGURING HGWEB
 .sp
-Mercurial\(aqs internal web server, hgweb, can serve either a single
+Mercurial's internal web server, hgweb, can serve either a single
 repository, or a collection of them. In the latter case, a special
 configuration file can be used to specify the repository paths to use
 and global web configuration options.
@@ -5025,7 +5009,7 @@
 .UNINDENT
 .sp
 The \fBweb\fP section can specify all the settings described in the web
-section of the hgrc(5) documentation. See \%\fBhg help config\fP\: for
+section of the hgrc(5) documentation. See \fBhg help config\fP for
 information on where to find the manual page.
 .sp
 The \fBpaths\fP section provides mappings of physical repository
@@ -5032,7 +5016,7 @@
 paths to virtual ones. For instance:
 .sp
 .nf
-.ft C
+.ft
 [paths]
 projects/a = /foo/bar
 projects/b = /baz/quux
@@ -5039,7 +5023,7 @@
 web/root = /real/root/*
 / = /real/root2/*
 virtual/root2 = /real/root2/**
-.ft P
+.ft
 .fi
 .INDENT 0.0
 .IP \(bu 2
@@ -5048,14 +5032,14 @@
 appear under the same directory in the web interface
 .IP \(bu 2
 .
-The third entry maps every Mercurial repository found in \(aq/real/root\(aq
-into \(aqweb/root\(aq. This format is preferred over the [collections] one,
+The third entry maps every Mercurial repository found in '/real/root'
+into 'web/root'. This format is preferred over the [collections] one,
 since using absolute paths as configuration keys is not supported on every
 platform (especially on Windows).
 .IP \(bu 2
 .
 The fourth entry is a special case mapping all repositories in
-\(aq/real/root2\(aq in the root of the virtual directory.
+'/real/root2' in the root of the virtual directory.
 .IP \(bu 2
 .
 The fifth entry recursively finds all repositories under the real
@@ -5067,10 +5051,10 @@
 preferred. For instance:
 .sp
 .nf
-.ft C
+.ft
 [collections]
 /foo = /foo
-.ft P
+.ft
 .fi
 .sp
 Here, the left side will be stripped off all repositories found in the
@@ -5085,8 +5069,8 @@
 ancestor of the two file versions, so they can determine the changes
 made on both branches.
 .sp
-Merge tools are used both for \%\fBhg resolve\fP\:, \%\fBhg merge\fP\:, \%\fBhg update\fP\:,
-\%\fBhg backout\fP\: and in several extensions.
+Merge tools are used both for \fBhg resolve\fP, \fBhg merge\fP, \fBhg update\fP,
+\fBhg backout\fP and in several extensions.
 .sp
 Usually, the merge tool tries to automatically reconcile the files by
 combining all non\-overlapping changes that occurred separately in
@@ -5191,10 +5175,11 @@
 .
 The merge of the file fails and must be resolved before commit.
 .UNINDENT
+.RS 0
 .IP Note
 .
 After selecting a merge program, Mercurial will by default attempt
-to merge the files using a simple merge algorithm first. Only if it doesn\(aqt
+to merge the files using a simple merge algorithm first. Only if it doesn't
 succeed because of conflicting changes Mercurial will actually execute the
 merge program. Whether to use the simple merge algorithm first can be
 controlled by the premerge setting of the merge tool. Premerge is enabled by
@@ -5227,10 +5212,11 @@
 patterns.
 .sp
 Alternate pattern notations must be specified explicitly.
+.RS 0
 .IP Note
 .
 Patterns specified in \fB.hgignore\fP are not rooted.
-Please see \%\fBhg help hgignore\fP\: for details.
+Please see \fBhg help hgignore\fP for details.
 .RE
 .sp
 To use a plain path name without any pattern matching, start it with
@@ -5255,17 +5241,17 @@
 Plain examples:
 .sp
 .nf
-.ft C
+.ft
 path:foo/bar   a name bar in a directory named foo in the root
                of the repository
 path:path:name a file or directory named "path:name"
-.ft P
+.ft
 .fi
 .sp
 Glob examples:
 .sp
 .nf
-.ft C
+.ft
 glob:*.c       any name ending in ".c" in the current directory
 *.c            any name ending in ".c" in the current directory
 **.c           any name ending in ".c" in any subdirectory of the
@@ -5273,27 +5259,27 @@
 foo/*.c        any name ending in ".c" in the directory foo
 foo/**.c       any name ending in ".c" in any subdirectory of foo
                including itself.
-.ft P
+.ft
 .fi
 .sp
 Regexp examples:
 .sp
 .nf
-.ft C
+.ft
 re:.*\e.c$      any name ending in ".c", anywhere in the repository
-.ft P
+.ft
 .fi
 .sp
 File examples:
 .sp
 .nf
-.ft C
+.ft
 listfile:list.txt  read list from list.txt with one file pattern per line
 listfile0:list.txt read list from list.txt with null byte delimiters
-.ft P
+.ft
 .fi
 .sp
-See also \%\fBhg help filesets\fP\:.
+See also \fBhg help filesets\fP.
 .SH WORKING WITH PHASES
 .SH WHAT ARE PHASES?
 .sp
@@ -5330,14 +5316,14 @@
 .sp
 Once changesets become public, extensions like mq and rebase will
 refuse to operate on them to prevent creating duplicate changesets.
-Phases can also be manually manipulated with the \%\fBhg phase\fP\: command
-if needed. See \%\fBhg help \-v phase\fP\: for examples.
+Phases can also be manually manipulated with the \fBhg phase\fP command
+if needed. See \fBhg help \-v phase\fP for examples.
 .SH PHASES AND SERVERS
 .sp
 Normally, all servers are \fBpublishing\fP by default. This means:
 .sp
 .nf
-.ft C
+.ft
 \- all draft changesets that are pulled or cloned appear in phase
 public on the client
 
@@ -5345,8 +5331,9 @@
 client and server
 
 \- secret changesets are neither pushed, pulled, or cloned
-.ft P
+.ft
 .fi
+.RS 0
 .IP Note
 .
 Pulling a draft changeset from a publishing server does not mark it
@@ -5358,13 +5345,14 @@
 repository to disable publishing in its configuration file:
 .sp
 .nf
-.ft C
+.ft
 [phases]
 publish = False
-.ft P
+.ft
 .fi
 .sp
-See \%\fBhg help config\fP\: for more information on config files.
+See \fBhg help config\fP for more information on config files.
+.RS 0
 .IP Note
 .
 Servers running older versions of Mercurial are treated as
@@ -5379,9 +5367,9 @@
 list changesets in draft or secret phase:
 .sp
 .nf
-.ft C
+.ft
 hg log \-r "not public()"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -5388,9 +5376,9 @@
 change all secret changesets to draft:
 .sp
 .nf
-.ft C
+.ft
 hg phase \-\-draft "secret()"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -5397,9 +5385,9 @@
 forcibly move the current changeset and descendants from public to draft:
 .sp
 .nf
-.ft C
+.ft
 hg phase \-\-force \-\-draft .
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -5406,9 +5394,9 @@
 show a list of changeset revision and phase:
 .sp
 .nf
-.ft C
+.ft
 hg log \-\-template "{rev} {phase}\en"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -5415,15 +5403,15 @@
 resynchronize draft changesets relative to a remote repository:
 .sp
 .nf
-.ft C
-hg phase \-fd \(aqoutgoing(URL)\(aq
-.ft P
+.ft
+hg phase \-fd 'outgoing(URL)'
+.ft
 .fi
 .UNINDENT
 .UNINDENT
 .UNINDENT
 .sp
-See \%\fBhg help phase\fP\: for more information on manually manipulating phases.
+See \fBhg help phase\fP for more information on manually manipulating phases.
 .SH SPECIFYING SINGLE REVISIONS
 .sp
 Mercurial supports several ways to specify individual revisions.
@@ -5469,7 +5457,7 @@
 .sp
 Special characters can be used in quoted identifiers by escaping them,
 e.g., \fB\en\fP is interpreted as a newline. To prevent them from being
-interpreted, strings can be prefixed with \fBr\fP, e.g. \fBr\(aq...\(aq\fP.
+interpreted, strings can be prefixed with \fBr\fP, e.g. \fBr'...'\fP.
 .sp
 There is a single prefix operator:
 .INDENT 0.0
@@ -5595,12 +5583,12 @@
 .TP
 .B \fBcontains(pattern)\fP
 .sp
-Revision contains a file matching pattern. See \%\fBhg help patterns\fP\:
+Revision contains a file matching pattern. See \fBhg help patterns\fP
 for information about file patterns.
 .TP
 .B \fBdate(interval)\fP
 .sp
-Changesets within the interval, see \%\fBhg help dates\fP\:.
+Changesets within the interval, see \fBhg help dates\fP.
 .TP
 .B \fBdesc(string)\fP
 .sp
@@ -5628,13 +5616,13 @@
 .TP
 .B \fBfollow([file])\fP
 .sp
-An alias for \fB::.\fP (ancestors of the working copy\(aqs first parent).
+An alias for \fB::.\fP (ancestors of the working copy's first parent).
 If a filename is specified, the history of the given file is followed,
 including copies.
 .TP
 .B \fBgrep(regex)\fP
 .sp
-Like \fBkeyword(string)\fP but accepts a regex. Use \fBgrep(r\(aq...\(aq)\fP
+Like \fBkeyword(string)\fP but accepts a regex. Use \fBgrep(r'...')\fP
 to ensure special escape characters are handled correctly. Unlike
 \fBkeyword(string)\fP, the match is case\-sensitive.
 .TP
@@ -5720,7 +5708,7 @@
 .TP
 .B \fBpresent(set)\fP
 .sp
-An empty set, if any revision in set isn\(aqt found; otherwise,
+An empty set, if any revision in set isn't found; otherwise,
 all revisions in set.
 .TP
 .B \fBpublic()\fP
@@ -5730,7 +5718,7 @@
 .B \fBremote([id [,path]])\fP
 .sp
 Local revision that corresponds to the given identifier in a
-remote repository, if present. Here, the \(aq.\(aq identifier is a
+remote repository, if present. Here, the '.' identifier is a
 synonym for the current local branch.
 .TP
 .B \fBremoves(pattern)\fP
@@ -5790,9 +5778,9 @@
 existing predicates or other aliases. An alias definition looks like:
 .sp
 .nf
-.ft C
+.ft
 <alias> = <definition>
-.ft P
+.ft
 .fi
 .sp
 in the \fBrevsetalias\fP section of a Mercurial configuration file. Arguments
@@ -5802,21 +5790,21 @@
 For example,
 .sp
 .nf
-.ft C
+.ft
 [revsetalias]
 h = heads()
 d($1) = sort($1, date)
 rs($1, $2) = reverse(sort($1, $2))
-.ft P
+.ft
 .fi
 .sp
 defines three aliases, \fBh\fP, \fBd\fP, and \fBrs\fP. \fBrs(0:tip, author)\fP is
 exactly equivalent to \fBreverse(sort(0:tip, author))\fP.
 .sp
-Command line equivalents for \%\fBhg log\fP\::
+Command line equivalents for \fBhg log\fP:
 .sp
 .nf
-.ft C
+.ft
 \-f    \->  ::.
 \-d x  \->  date(x)
 \-k x  \->  keyword(x)
@@ -5825,7 +5813,7 @@
 \-b x  \->  branch(x)
 \-P x  \->  !::x
 \-l x  \->  limit(expr, x)
-.ft P
+.ft
 .fi
 .sp
 Some sample queries:
@@ -5835,9 +5823,9 @@
 Changesets on the default branch:
 .sp
 .nf
-.ft C
+.ft
 hg log \-r "branch(default)"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -5844,9 +5832,9 @@
 Changesets on the default branch since tag 1.5 (excluding merges):
 .sp
 .nf
-.ft C
+.ft
 hg log \-r "branch(default) and 1.5:: and not merge()"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -5853,9 +5841,9 @@
 Open branch heads:
 .sp
 .nf
-.ft C
+.ft
 hg log \-r "head() and not closed()"
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
@@ -5863,9 +5851,9 @@
 \fBhgext/*\fP:
 .sp
 .nf
-.ft C
-hg log \-r "1.3::1.5 and keyword(bug) and file(\(aqhgext/*\(aq)"
-.ft P
+.ft
+hg log \-r "1.3::1.5 and keyword(bug) and file('hgext/*')"
+.ft
 .fi
 .IP \(bu 2
 .
@@ -5872,9 +5860,9 @@
 Changesets committed in May 2008, sorted by user:
 .sp
 .nf
-.ft C
-hg log \-r "sort(date(\(aqMay 2008\(aq), user)"
-.ft P
+.ft
+hg log \-r "sort(date('May 2008'), user)"
+.ft
 .fi
 .IP \(bu 2
 .
@@ -5882,9 +5870,9 @@
 release:
 .sp
 .nf
-.ft C
+.ft
 hg log \-r "(keyword(bug) or keyword(issue)) and not ancestors(tagged())"
-.ft P
+.ft
 .fi
 .UNINDENT
 .SH SUBREPOSITORIES
@@ -5911,7 +5899,7 @@
 .INDENT 3.0
 .INDENT 3.5
 .sp
-path/to/nested = \%https://example.com/nested/repo/path\:
+path/to/nested = https://example.com/nested/repo/path
 .UNINDENT
 .UNINDENT
 .sp
@@ -5940,6 +5928,7 @@
 subrepositories to the state they were committed in a parent
 repository changeset. Mercurial automatically record the nested
 repositories states when committing in the parent repository.
+.RS 0
 .IP Note
 .
 The \fB.hgsubstate\fP file should not be edited manually.
@@ -5991,7 +5980,7 @@
 have been modified, Mercurial will abort.  Mercurial can be made
 to instead commit all modified subrepositories by specifying
 \-S/\-\-subrepos, or setting "ui.commitsubrepos=True" in a
-configuration file (see \%\fBhg help config\fP\:).  After there are no
+configuration file (see \fBhg help config\fP).  After there are no
 longer any modified subrepositories, it records their state and
 finally commits it in the parent repository.
 .TP
@@ -6022,7 +6011,7 @@
 .B pull
 .
 pull is not recursive since it is not clear what to pull prior
-to running \%\fBhg update\fP\:. Listing and retrieving all
+to running \fBhg update\fP. Listing and retrieving all
 subrepositories changes referenced by the parent repository pulled
 changesets is expensive at best, impossible in the Subversion
 case.
@@ -6073,9 +6062,9 @@
 Usage:
 .sp
 .nf
-.ft C
+.ft
 $ hg log \-r1 \-\-style changelog
-.ft P
+.ft
 .fi
 .sp
 A template is a piece of text, with markup to invoke variable
@@ -6082,10 +6071,10 @@
 expansion:
 .sp
 .nf
-.ft C
+.ft
 $ hg log \-r1 \-\-template "{node}\en"
 b56ce7b07c52de7d5fd79fb89701ea538af65746
-.ft P
+.ft
 .fi
 .sp
 Strings in curly braces are called keywords. The availability of
@@ -6195,15 +6184,15 @@
 The "date" keyword does not produce human\-readable output. If you
 want to use a date in your output, you can use a filter to process
 it. Filters are functions which return a string based on the input
-variable. Be sure to use the stringify filter first when you\(aqre
+variable. Be sure to use the stringify filter first when you're
 applying a string\-input filter to a list\-like input variable.
 You can also use a chain of filters to get the desired output:
 .sp
 .nf
-.ft C
+.ft
 $ hg tip \-\-template "{date|isodate}\en"
 2008\-08\-21 18:22 +0000
-.ft P
+.ft
 .fi
 .sp
 List of filters:
@@ -6291,7 +6280,7 @@
 .TP
 .B nonempty
 .
-Any text. Returns \(aq(none)\(aq if the string is empty.
+Any text. Returns '(none)' if the string is empty.
 .TP
 .B obfuscate
 .
@@ -6363,24 +6352,24 @@
 Valid URLs are of the form:
 .sp
 .nf
-.ft C
+.ft
 local/filesystem/path[#revision]
 file://local/filesystem/path[#revision]
 http://[user[:pass]@]host[:port]/[path][#revision]
 https://[user[:pass]@]host[:port]/[path][#revision]
 ssh://[user@]host[:port]/[path][#revision]
-.ft P
+.ft
 .fi
 .sp
 Paths in the local filesystem can either point to Mercurial
-repositories or to bundle files (as created by \%\fBhg bundle\fP\: or :hg:\(ga
-incoming \-\-bundle\(ga). See also \%\fBhg help paths\fP\:.
+repositories or to bundle files (as created by \fBhg bundle\fP or \fBhg
+incoming \-\-bundle\fP). See also \fBhg help paths\fP.
 .sp
 An optional identifier after # indicates a particular branch, tag, or
-changeset to use from the remote repository. See also \%\fBhg help
-revisions\fP\:.
+changeset to use from the remote repository. See also \fBhg help
+revisions\fP.
 .sp
-Some features, such as pushing to \%http://\: and \%https://\: URLs are only
+Some features, such as pushing to http:// and https:// URLs are only
 possible if the feature is explicitly enabled on the remote Mercurial
 server.
 .sp
@@ -6395,26 +6384,26 @@
 and a copy of hg in the remote path or specified with as remotecmd.
 .IP \(bu 2
 .
-path is relative to the remote user\(aqs home directory by default. Use
+path is relative to the remote user's home directory by default. Use
 an extra slash at the start of a path to specify an absolute path:
 .sp
 .nf
-.ft C
+.ft
 ssh://example.com//tmp/repository
-.ft P
+.ft
 .fi
 .IP \(bu 2
 .
-Mercurial doesn\(aqt use its own compression via SSH; the right thing
+Mercurial doesn't use its own compression via SSH; the right thing
 to do is to configure it in your ~/.ssh/config, e.g.:
 .sp
 .nf
-.ft C
+.ft
 Host *.mylocalnetwork.example.com
   Compression no
 Host *
   Compression yes
-.ft P
+.ft
 .fi
 .sp
 Alternatively specify "ssh \-C" as your ssh command in your
@@ -6425,16 +6414,16 @@
 aliases under the [paths] section like so:
 .sp
 .nf
-.ft C
+.ft
 [paths]
 alias1 = URL1
 alias2 = URL2
 \&...
-.ft P
+.ft
 .fi
 .sp
 You can then use the alias for any command that uses a URL (for
-example \%\fBhg pull alias1\fP\: will be treated as \%\fBhg pull URL1\fP\:).
+example \fBhg pull alias1\fP will be treated as \fBhg pull URL1\fP).
 .sp
 Two path aliases are special because they are used as defaults when
 you do not provide the URL to a command:
@@ -6443,14 +6432,14 @@
 .B default:
 .
 When you create a repository with hg clone, the clone command saves
-the location of the source repository as the new repository\(aqs
-\(aqdefault\(aq path. This is then used when you omit path from push\- and
+the location of the source repository as the new repository's 'default'
+path. This is then used when you omit path from push\- and
 pull\-like commands (including incoming and outgoing).
 .TP
 .B default\-push:
 .
-The push command will look for a path named \(aqdefault\-push\(aq, and
-prefer it over \(aqdefault\(aq if both are defined.
+The push command will look for a path named 'default\-push', and
+prefer it over 'default' if both are defined.
 .UNINDENT
 .SH EXTENSIONS
 .sp
@@ -6532,7 +6521,7 @@
 .SS Example Configuration
 .sp
 .nf
-.ft C
+.ft
 [hooks]
 
 # Use this if you want to check access restrictions at commit time
@@ -6608,7 +6597,7 @@
 src/main/resources/** = *
 
 \&.hgtags = release_engineer
-.ft P
+.ft
 .fi
 .SS bugzilla
 .sp
@@ -6781,9 +6770,9 @@
 line:
 .sp
 .nf
-.ft C
+.ft
 committer = Bugzilla user
-.ft P
+.ft
 .fi
 .sp
 See also the \fB[usermap]\fP section.
@@ -6869,7 +6858,7 @@
 Activating the extension:
 .sp
 .nf
-.ft C
+.ft
 [extensions]
 bugzilla =
 
@@ -6876,7 +6865,7 @@
 [hooks]
 # run bugzilla hook on every change pulled or pushed in here
 incoming.bugzilla = python:hgext.bugzilla.hook
-.ft P
+.ft
 .fi
 .sp
 Example configurations:
@@ -6888,7 +6877,7 @@
 with a web interface at \fBhttp://my\-project.org/hg\fP.
 .sp
 .nf
-.ft C
+.ft
 [bugzilla]
 bzurl=http://my\-project.org/bugzilla
 user=bugmail@my\-project.org
@@ -6901,7 +6890,7 @@
 
 [web]
 baseurl=http://my\-project.org/hg
-.ft P
+.ft
 .fi
 .sp
 XMLRPC+email example configuration. This uses the Bugzilla at
@@ -6913,7 +6902,7 @@
 \fBbugzilla@my\-project.org\fP.
 .sp
 .nf
-.ft C
+.ft
 [bugzilla]
 bzurl=http://my\-project.org/bugzilla
 user=bugmail@my\-project.org
@@ -6930,7 +6919,7 @@
 
 [usermap]
 user@emaildomain.com=user.name@bugzilladomain.com
-.ft P
+.ft
 .fi
 .sp
 MySQL example configuration. This has a local Bugzilla 3.2 installation
@@ -6941,7 +6930,7 @@
 with a web interface at \fBhttp://my\-project.org/hg\fP.
 .sp
 .nf
-.ft C
+.ft
 [bugzilla]
 host=localhost
 password=XYZZY
@@ -6958,18 +6947,18 @@
 
 [usermap]
 user@emaildomain.com=user.name@bugzilladomain.com
-.ft P
+.ft
 .fi
 .sp
 All the above add a comment to the Bugzilla bug record of the form:
 .sp
 .nf
-.ft C
+.ft
 Changeset 3b16791d6642 in repository\-name.
 http://my\-project.org/hg/repository\-name/rev/3b16791d6642
 
 Changeset commit comment. Bug 1234.
-.ft P
+.ft
 .fi
 .SS children
 .sp
@@ -6978,12 +6967,12 @@
 .SS children
 .sp
 .nf
-.ft C
+.ft
 hg children [\-r REV] [FILE]
-.ft P
+.ft
 .fi
 .sp
-Print the children of the working directory\(aqs revisions. If a
+Print the children of the working directory's revisions. If a
 revision is given via \-r/\-\-rev, the children of that revision will
 be printed. If a file argument is given, revision in which the
 file was last changed (after the working directory revision or the
@@ -7011,9 +7000,9 @@
 .SS churn
 .sp
 .nf
-.ft C
+.ft
 hg churn [\-d DATE] [\-r REV] [\-\-aliases FILE] [FILE]
-.ft P
+.ft
 .fi
 .sp
 This command will display a histogram representing the number
@@ -7029,19 +7018,19 @@
 Examples:
 .sp
 .nf
-.ft C
+.ft
 # display count of changed lines for every committer
-hg churn \-t \(aq{author|email}\(aq
+hg churn \-t '{author|email}'
 
 # display daily activity graph
-hg churn \-f \(aq%H\(aq \-s \-c
+hg churn \-f '%H' \-s \-c
 
 # display activity of developers by month
-hg churn \-f \(aq%Y\-%m\(aq \-s \-c
+hg churn \-f '%Y\-%m' \-s \-c
 
 # display count of lines changed in every year
-hg churn \-f \(aq%Y\(aq \-s
-.ft P
+hg churn \-f '%Y' \-s
+.ft
 .fi
 .sp
 It is possible to map alternate email addresses to a main address
@@ -7048,9 +7037,9 @@
 by providing a file using the following format:
 .sp
 .nf
-.ft C
+.ft
 <alias email> = <actual email>
-.ft P
+.ft
 .fi
 .sp
 Such a file may be specified with the \-\-aliases option, otherwise
@@ -7118,7 +7107,7 @@
 Default effects may be overridden from your configuration file:
 .sp
 .nf
-.ft C
+.ft
 [color]
 status.modified = blue bold underline red_background
 status.added = green bold
@@ -7127,7 +7116,7 @@
 status.unknown = magenta bold underline
 status.ignored = black bold
 
-# \(aqnone\(aq turns off all effects
+# 'none' turns off all effects
 status.clean = none
 status.copied = none
 
@@ -7157,13 +7146,13 @@
 
 tags.normal = green
 tags.local = black bold
-.ft P
+.ft
 .fi
 .sp
-The available effects in terminfo mode are \(aqblink\(aq, \(aqbold\(aq, \(aqdim\(aq,
-\(aqinverse\(aq, \(aqinvisible\(aq, \(aqitalic\(aq, \(aqstandout\(aq, and \(aqunderline\(aq; in
-ECMA\-48 mode, the options are \(aqbold\(aq, \(aqinverse\(aq, \(aqitalic\(aq, and
-\(aqunderline\(aq.  How each is rendered depends on the terminal emulator.
+The available effects in terminfo mode are 'blink', 'bold', 'dim', 'inverse', 'invisible', 'italic', 'standout',
+and 'underline'; in
+ECMA\-48 mode, the options are 'bold', 'inverse', 'italic', and
+'underline'.  How each is rendered depends on the terminal emulator.
 Some may not be available for a given terminal type, and will be
 silently ignored.
 .sp
@@ -7170,7 +7159,7 @@
 Note that on some systems, terminfo mode may cause problems when using
 color with the pager extension and less \-R. less with the \-R option
 will only display ECMA\-48 color codes, and terminfo mode may sometimes
-emit codes that less doesn\(aqt understand. You can work around this by
+emit codes that less doesn't understand. You can work around this by
 either using ansi mode (or auto mode), or by using less \-r (which will
 pass through all terminal control codes, not just color control
 codes).
@@ -7180,18 +7169,18 @@
 for your terminal type, assuming terminfo mode.  For instance:
 .sp
 .nf
-.ft C
+.ft
 color.brightblue = 12
 color.pink = 207
 color.orange = 202
-.ft P
+.ft
 .fi
 .sp
-to set \(aqbrightblue\(aq to color slot 12 (useful for 16 color terminals
-that have brighter colors defined in the upper eight) and, \(aqpink\(aq and
-\(aqorange\(aq to colors in 256\-color xterm\(aqs default color cube.  These
+to set 'brightblue' to color slot 12 (useful for 16 color terminals
+that have brighter colors defined in the upper eight) and, 'pink' and
+'orange' to colors in 256\-color xterm's default color cube.  These
 defined colors may then be used as any of the pre\-defined eight,
-including appending \(aq_background\(aq to set the background to that color.
+including appending '_background' to set the background to that color.
 .sp
 By default, the color extension will use ANSI mode (or win32 mode on
 Windows) if it detects a terminal. To override auto mode (to enable
@@ -7198,13 +7187,13 @@
 terminfo mode, for example), set the following configuration option:
 .sp
 .nf
-.ft C
+.ft
 [color]
 mode = terminfo
-.ft P
+.ft
 .fi
 .sp
-Any value other than \(aqansi\(aq, \(aqwin32\(aq, \(aqterminfo\(aq, or \(aqauto\(aq will
+Any value other than 'ansi', 'win32', 'terminfo', or 'auto' will
 disable color.
 .SS convert
 .sp
@@ -7213,9 +7202,9 @@
 .SS convert
 .sp
 .nf
-.ft C
+.ft
 hg convert [OPTION]... SOURCE [DEST [REVMAP]]
-.ft P
+.ft
 .fi
 .sp
 Accepted source formats [identifiers]:
@@ -7265,7 +7254,7 @@
 .sp
 If no destination directory name is specified, it defaults to the
 basename of the source with \fB\-hg\fP appended. If the destination
-repository doesn\(aqt exist, it will be created.
+repository doesn't exist, it will be created.
 .sp
 By default, all sources except Mercurial will use \-\-branchsort.
 Mercurial uses \-\-sourcesort to preserve original revision numbers
@@ -7291,19 +7280,19 @@
 supported by Mercurial sources.
 .UNINDENT
 .sp
-If \fBREVMAP\fP isn\(aqt given, it will be put in a default location
+If \fBREVMAP\fP isn't given, it will be put in a default location
 (\fB<dest>/.hg/shamap\fP by default). The \fBREVMAP\fP is a simple
 text file that maps each source commit ID to the destination ID
 for that revision, like so:
 .sp
 .nf
-.ft C
+.ft
 <source ID> <destination ID>
-.ft P
+.ft
 .fi
 .sp
-If the file doesn\(aqt exist, it\(aqs automatically created. It\(aqs
-updated on each commit copied, so \%\fBhg convert\fP\: can be interrupted
+If the file doesn't exist, it's automatically created. It's
+updated on each commit copied, so \fBhg convert\fP can be interrupted
 and can be run repeatedly to copy new commits.
 .sp
 The authormap is a simple text file that maps each source commit
@@ -7312,9 +7301,9 @@
 author mapping and the line format is:
 .sp
 .nf
-.ft C
+.ft
 source author = destination author
-.ft P
+.ft
 .fi
 .sp
 Empty lines and lines starting with a \fB#\fP are ignored.
@@ -7324,13 +7313,13 @@
 directives:
 .sp
 .nf
-.ft C
+.ft
 include path/to/file\-or\-dir
 
 exclude path/to/file\-or\-dir
 
 rename path/to/source path/to/destination
-.ft P
+.ft
 .fi
 .sp
 Comment lines start with \fB#\fP. A specified path matches if it
@@ -7354,9 +7343,9 @@
 comma\-separated values:
 .sp
 .nf
-.ft C
+.ft
 key parent1, parent2
-.ft P
+.ft
 .fi
 .sp
 The key is the revision ID in the source
@@ -7376,9 +7365,9 @@
 lines of the form:
 .sp
 .nf
-.ft C
+.ft
 original_branch_name new_branch_name
-.ft P
+.ft
 .fi
 .sp
 where "original_branch_name" is the name of the branch in the
@@ -7625,9 +7614,9 @@
 Files with the declared format of \fBCRLF\fP or \fBLF\fP are always
 checked out and stored in the repository in that format and files
 declared to be binary (\fBBIN\fP) are left unchanged. Additionally,
-\fBnative\fP is an alias for checking out in the platform\(aqs default line
+\fBnative\fP is an alias for checking out in the platform's default line
 ending: \fBLF\fP on Unix (including Mac OS X) and \fBCRLF\fP on
-Windows. Note that \fBBIN\fP (do nothing to line endings) is Mercurial\(aqs
+Windows. Note that \fBBIN\fP (do nothing to line endings) is Mercurial's
 default behaviour; it is only needed if you need to override a later,
 more general pattern.
 .sp
@@ -7644,7 +7633,7 @@
 Example versioned \fB.hgeol\fP file:
 .sp
 .nf
-.ft C
+.ft
 [patterns]
 **.py = native
 **.vcproj = CRLF
@@ -7654,8 +7643,9 @@
 
 [repository]
 native = LF
-.ft P
+.ft
 .fi
+.RS 0
 .IP Note
 .
 The rules will first apply when files are touched in the working
@@ -7671,7 +7661,7 @@
 .
 \fBeol.native\fP (default \fBos.linesep\fP) can be set to \fBLF\fP or
 \fBCRLF\fP to override the default interpretation of \fBnative\fP for
-checkout. This can be used with \%\fBhg archive\fP\: on Unix, say, to
+checkout. This can be used with \fBhg archive\fP on Unix, say, to
 generate an archive where files have line endings for Windows.
 .IP \(bu 2
 .
@@ -7701,7 +7691,7 @@
 \fBeol.checkallhook\fP hook. These hooks are best used as
 \fBpretxnchangegroup\fP hooks.
 .sp
-See \%\fBhg help patterns\fP\: for more information about the glob patterns
+See \fBhg help patterns\fP for more information about the glob patterns
 used.
 .SS extdiff
 .sp
@@ -7714,12 +7704,12 @@
 files to compare.
 .sp
 The extdiff extension also allows you to configure new diff commands, so
-you do not need to type \%\fBhg extdiff \-p kdiff3\fP\: always.
+you do not need to type \fBhg extdiff \-p kdiff3\fP always.
 .sp
 .nf
-.ft C
+.ft
 [extdiff]
-# add new command that runs GNU diff(1) in \(aqcontext diff\(aq mode
+# add new command that runs GNU diff(1) in 'context diff' mode
 cdiff = gdiff \-Nprc5
 ## or the old way:
 #cmd.cdiff = gdiff
@@ -7736,20 +7726,20 @@
 # English user, be sure to put "let g:DirDiffDynamicDiffText = 1" in
 # your .vimrc
 vimdiff = gvim \-f "+next" \e
-          "+execute \(aqDirDiff\(aq fnameescape(argv(0)) fnameescape(argv(1))"
-.ft P
+          "+execute 'DirDiff' fnameescape(argv(0)) fnameescape(argv(1))"
+.ft
 .fi
 .sp
 Tool arguments can include variables that are expanded at runtime:
 .sp
 .nf
-.ft C
+.ft
 $parent1, $plabel1 \- filename, descriptive label of first parent
 $child,   $clabel  \- filename, descriptive label of child revision
 $parent2, $plabel2 \- filename, descriptive label of second parent
 $root              \- repository root
 $parent is an alias for $parent1.
-.ft P
+.ft
 .fi
 .sp
 The extdiff extension will look in your [diff\-tools] and [merge\-tools]
@@ -7756,17 +7746,17 @@
 sections for diff tool arguments, when none are specified in [extdiff].
 .sp
 .nf
-.ft C
+.ft
 [extdiff]
 kdiff3 =
 
 [diff\-tools]
-kdiff3.diffargs=\-\-L1 \(aq$plabel1\(aq \-\-L2 \(aq$clabel\(aq $parent $child
-.ft P
+kdiff3.diffargs=\-\-L1 '$plabel1' \-\-L2 '$clabel' $parent $child
+.ft
 .fi
 .sp
 You can use \-I/\-X and list of file or directory names like normal
-\%\fBhg diff\fP\: command. The extdiff extension makes snapshots of only
+\fBhg diff\fP command. The extdiff extension makes snapshots of only
 needed files, so running the external diff program will actually be
 pretty fast (at least faster than having to compare the entire tree).
 .SS Commands
@@ -7773,9 +7763,9 @@
 .SS extdiff
 .sp
 .nf
-.ft C
+.ft
 hg extdiff [OPT]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
 Show differences between revisions for the specified files, using
@@ -7833,9 +7823,9 @@
 By default, keys are specified as:
 .sp
 .nf
-.ft C
+.ft
 proto=pass service=hg prefix=<prefix> user=<username> !password=<password>
-.ft P
+.ft
 .fi
 .sp
 If the factotum extension is unable to read the required key, one will be
@@ -7845,12 +7835,12 @@
 default, these entries are:
 .sp
 .nf
-.ft C
+.ft
 [factotum]
 executable = /bin/auth/factotum
 mountpoint = /mnt/factotum
 service = hg
-.ft P
+.ft
 .fi
 .sp
 The executable entry defines the full path to the factotum binary. The
@@ -7863,9 +7853,9 @@
 .SS fetch
 .sp
 .nf
-.ft C
+.ft
 hg fetch [SOURCE]
-.ft P
+.ft
 .fi
 .sp
 This finds all changes from the repository at the specified path
@@ -7880,7 +7870,7 @@
 the newly pulled changes. Local changes are then merged into the
 pulled changes. To switch the merge order, use \-\-switch\-parent.
 .sp
-See \%\fBhg help dates\fP\: for a list of formats valid for \-d/\-\-date.
+See \fBhg help dates\fP for a list of formats valid for \-d/\-\-date.
 .sp
 Returns 0 on success.
 .sp
@@ -7938,9 +7928,9 @@
 .SS sigcheck
 .sp
 .nf
-.ft C
+.ft
 hg sigcheck REVISION
-.ft P
+.ft
 .fi
 .sp
 verify all the signatures there may be for a particular revision
@@ -7947,15 +7937,15 @@
 .SS sign
 .sp
 .nf
-.ft C
+.ft
 hg sign [OPTION]... [REVISION]...
-.ft P
+.ft
 .fi
 .sp
 If no revision is given, the parent of the working directory is used,
 or tip if no revision is checked out.
 .sp
-See \%\fBhg help dates\fP\: for a list of formats valid for \-d/\-\-date.
+See \fBhg help dates\fP for a list of formats valid for \-d/\-\-date.
 .sp
 Options:
 .INDENT 0.0
@@ -7991,9 +7981,9 @@
 .SS sigs
 .sp
 .nf
-.ft C
+.ft
 hg sigs
-.ft P
+.ft
 .fi
 .sp
 list signed changesets
@@ -8008,9 +7998,9 @@
 .SS glog
 .sp
 .nf
-.ft C
+.ft
 hg glog [OPTION]... [FILE]
-.ft P
+.ft
 .fi
 .sp
 Print a revision history alongside a revision graph drawn with
@@ -8118,7 +8108,7 @@
 configure it, set the following options in your hgrc:
 .sp
 .nf
-.ft C
+.ft
 [cia]
 # your registered CIA user name
 user = foo
@@ -8150,7 +8140,7 @@
 [web]
 # If you want hyperlinks (optional)
 baseurl = http://server/path/to/repo
-.ft P
+.ft
 .fi
 .SS hgk
 .sp
@@ -8162,19 +8152,17 @@
 .sp
 hgk consists of two parts: a Tcl script that does the displaying and
 querying of information, and an extension to Mercurial named hgk.py,
-which provides hooks for hgk to get information. hgk can be found in
-the contrib directory, and the extension is shipped in the hgext
-repository, and needs to be enabled.
+which provides hooks for hgk to get information.
 .sp
-The \%\fBhg view\fP\: command will launch the hgk Tcl script. For this command
-to work, hgk must be in your search path. Alternately, you can specify
-the path to hgk in your configuration file:
+The \fBhg view\fP command will launch the hgk Tcl script. The script is
+shipped in /usr/demo/mercurial, and hgk needs no configuration to find it.
+You can specify the path to an alternate hgk in your configuration file:
 .sp
 .nf
-.ft C
+.ft
 [hgk]
 path=/location/of/hgk
-.ft P
+.ft
 .fi
 .sp
 hgk can make use of the extdiff extension to visualize revisions.
@@ -8181,10 +8169,10 @@
 Assuming you had already configured extdiff vdiff command, just add:
 .sp
 .nf
-.ft C
+.ft
 [hgk]
 vdiff=vdiff
-.ft P
+.ft
 .fi
 .sp
 Revisions context menu will now display additional entries to fire
@@ -8193,9 +8181,9 @@
 .SS view
 .sp
 .nf
-.ft C
+.ft
 hg view [\-l LIMIT] [REVRANGE]
-.ft P
+.ft
 .fi
 .sp
 start interactive history viewer
@@ -8212,28 +8200,28 @@
 syntax highlighting for hgweb (requires Pygments)
 .sp
 It depends on the Pygments syntax highlighting library:
-\%http://pygments.org/\:
+http://pygments.org/
 .sp
 There is a single configuration option:
 .sp
 .nf
-.ft C
+.ft
 [web]
 pygments_style = <style>
-.ft P
+.ft
 .fi
 .sp
-The default is \(aqcolorful\(aq.
+The default is 'colorful'.
 .SS inotify
 .sp
-accelerate status report using Linux\(aqs inotify service
+accelerate status report using Linux's inotify service
 .SS Commands
 .SS inserve
 .sp
 .nf
-.ft C
+.ft
 hg inserve [OPTION]...
-.ft P
+.ft
 .fi
 .sp
 start an inotify server for this repository
@@ -8269,12 +8257,12 @@
 in your hgrc:
 .sp
 .nf
-.ft C
+.ft
 [interhg]
 issues = s!issue(\ed+)!<a href="http://bts/issue\e1">issue\e1</a>!
 bugzilla = s!((?:bug|b=|(?=#?\ed{4,}))(?:\es*#?)(\ed+))!<a..=\e2">\e1</a>!i
 boldify = s!(^|\es)#(\ed+)\eb! <b>#\e2</b>!
-.ft P
+.ft
 .fi
 .SS keyword
 .sp
@@ -8296,7 +8284,7 @@
 Example:
 .sp
 .nf
-.ft C
+.ft
 [keyword]
 # expand keywords in every python file except those matching "x*"
 **.py =
@@ -8305,8 +8293,9 @@
 [keywordset]
 # prefer svn\- over cvs\-like default keywordmaps
 svn = True
-.ft P
+.ft
 .fi
+.RS 0
 .IP Note
 .
 The more specific you are in your filename patterns the less you
@@ -8314,7 +8303,7 @@
 .RE
 .sp
 For [keywordmaps] template mapping and expansion demonstration and
-control run \%\fBhg kwdemo\fP\:. See \%\fBhg help templates\fP\: for a list of
+control run \fBhg kwdemo\fP. See \fBhg help templates\fP for a list of
 available templates and filters.
 .sp
 Three additional date template filters are provided:
@@ -8333,26 +8322,26 @@
 "2006\-09\-18 08:13:13 \-700 (Mon, 18 Sep 2006)"
 .UNINDENT
 .sp
-The default template mappings (view with \%\fBhg kwdemo \-d\fP\:) can be
+The default template mappings (view with \fBhg kwdemo \-d\fP) can be
 replaced with customized keywords and templates. Again, run
-\%\fBhg kwdemo\fP\: to control the results of your configuration changes.
+\fBhg kwdemo\fP to control the results of your configuration changes.
 .sp
-Before changing/disabling active keywords, you must run \%\fBhg kwshrink\fP\:
+Before changing/disabling active keywords, you must run \fBhg kwshrink\fP
 to avoid storing expanded keywords in the change history.
 .sp
 To force expansion after enabling it, or a configuration change, run
-\%\fBhg kwexpand\fP\:.
+\fBhg kwexpand\fP.
 .sp
 Expansions spanning more than one line and incremental expansions,
-like CVS\(aq $Log$, are not supported. A keyword template map "Log =
+like CVS' $Log$, are not supported. A keyword template map "Log =
 {desc}" expands to the first line of the changeset description.
 .SS Commands
 .SS kwdemo
 .sp
 .nf
-.ft C
+.ft
 hg kwdemo [\-d] [\-f RCFILE] [TEMPLATEMAP]...
-.ft P
+.ft
 .fi
 .sp
 Show current, custom, or default keyword template maps and their
@@ -8363,7 +8352,7 @@
 .sp
 Use \-d/\-\-default to disable current configuration.
 .sp
-See \%\fBhg help templates\fP\: for information on templates and filters.
+See \fBhg help templates\fP for information on templates and filters.
 .sp
 Options:
 .INDENT 0.0
@@ -8379,9 +8368,9 @@
 .SS kwexpand
 .sp
 .nf
-.ft C
+.ft
 hg kwexpand [OPTION]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
 Run after (re)enabling keyword expansion.
@@ -8402,9 +8391,9 @@
 .SS kwfiles
 .sp
 .nf
-.ft C
+.ft
 hg kwfiles [OPTION]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
 List which files in the working directory are matched by the
@@ -8414,7 +8403,7 @@
 execution by including only files that are actual candidates for
 expansion.
 .sp
-See \%\fBhg help keyword\fP\: on how to construct patterns both for
+See \fBhg help keyword\fP on how to construct patterns both for
 inclusion and exclusion of files.
 .sp
 With \-A/\-\-all and \-v/\-\-verbose the codes used to show the status
@@ -8421,12 +8410,12 @@
 of files are:
 .sp
 .nf
-.ft C
+.ft
 K = keyword expansion candidate
 k = keyword expansion candidate (not tracked)
 I = ignored
 i = ignored (not tracked)
-.ft P
+.ft
 .fi
 .sp
 Options:
@@ -8455,9 +8444,9 @@
 .SS kwshrink
 .sp
 .nf
-.ft C
+.ft
 hg kwshrink [OPTION]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
 Must be run before changing/disabling active keywords.
@@ -8481,10 +8470,10 @@
 .sp
 Large binary files tend to be not very compressible, not very
 diffable, and not at all mergeable. Such files are not handled
-efficiently by Mercurial\(aqs storage format (revlog), which is based on
+efficiently by Mercurial's storage format (revlog), which is based on
 compressed binary deltas; storing large binary files as regular
 Mercurial files wastes bandwidth and disk space and increases
-Mercurial\(aqs memory usage. The largefiles extension addresses these
+Mercurial's memory usage. The largefiles extension addresses these
 problems by adding a centralized client\-server layer on top of
 Mercurial: largefiles live in a \fIcentral store\fP out on the network
 somewhere, and you only fetch the revisions that you need when you
@@ -8496,18 +8485,18 @@
 identified by the SHA\-1 hash of their contents, which is written to
 the standin. largefiles uses that revision ID to get/put largefile
 revisions from/to the central store. This saves both disk space and
-bandwidth, since you don\(aqt need to retrieve all historical revisions
+bandwidth, since you don't need to retrieve all historical revisions
 of large files when you clone or pull.
 .sp
 To start a new repository or add new large binary files, just add
-\-\-large to your \%\fBhg add\fP\: command. For example:
+\-\-large to your \fBhg add\fP command. For example:
 .sp
 .nf
-.ft C
+.ft
 $ dd if=/dev/urandom of=randomdata count=2000
 $ hg add \-\-large randomdata
-$ hg commit \-m \(aqadd randomdata as a largefile\(aq
-.ft P
+$ hg commit \-m 'add randomdata as a largefile'
+.ft
 .fi
 .sp
 When you push a changeset that adds/modifies largefiles to a remote
@@ -8525,12 +8514,12 @@
 If you already have large files tracked by Mercurial without the
 largefiles extension, you will need to convert your repository in
 order to benefit from largefiles. This is done with the
-\%\fBhg lfconvert\fP\: command:
+\fBhg lfconvert\fP command:
 .sp
 .nf
-.ft C
+.ft
 $ hg lfconvert \-\-size 10 oldrepo newrepo
-.ft P
+.ft
 .fi
 .sp
 In repositories that already have largefiles in them, any new file
@@ -8540,20 +8529,20 @@
 \-\-lfsize option to the add command (also in megabytes):
 .sp
 .nf
-.ft C
+.ft
 [largefiles]
 minsize = 2
 
 $ hg add \-\-lfsize 2
-.ft P
+.ft
 .fi
 .sp
 The \fBlargefiles.patterns\fP config option allows you to specify a list
-of filename patterns (see \%\fBhg help patterns\fP\:) that should always be
+of filename patterns (see \fBhg help patterns\fP) that should always be
 tracked as largefiles:
 .sp
 .nf
-.ft C
+.ft
 [largefiles]
 patterns =
   *.jpg
@@ -8560,7 +8549,7 @@
   re:.*\e.(png|bmp)$
   library.zip
   content/audio/*
-.ft P
+.ft
 .fi
 .sp
 Files that match one of these patterns will be added as largefiles
@@ -8569,15 +8558,15 @@
 The \fBlargefiles.minsize\fP and \fBlargefiles.patterns\fP config options
 will be ignored for any repositories not already containing a
 largefile. To add the first largefile to a repository, you must
-explicitly do so with the \-\-large flag passed to the \%\fBhg add\fP\:
+explicitly do so with the \-\-large flag passed to the \fBhg add\fP
 command.
 .SS Commands
 .SS lfconvert
 .sp
 .nf
-.ft C
+.ft
 hg lfconvert SOURCE DEST [FILE ...]
-.ft P
+.ft
 .fi
 .sp
 Convert repository SOURCE to a new repository DEST, identical to
@@ -8618,10 +8607,10 @@
 Known patches are represented as patch files in the .hg/patches
 directory. Applied patches are both patch files and changesets.
 .sp
-Common tasks (use \%\fBhg help command\fP\: for more details):
+Common tasks (use \fBhg help command\fP for more details):
 .sp
 .nf
-.ft C
+.ft
 create new patch                          qnew
 import existing patch                     qimport
 
@@ -8631,7 +8620,7 @@
 add known patch to applied stack          qpush
 remove patch from applied stack           qpop
 refresh contents of top applied patch     qrefresh
-.ft P
+.ft
 .fi
 .sp
 By default, mq will automatically use git patches when required to
@@ -8639,36 +8628,36 @@
 files creations or deletions. This behaviour can be configured with:
 .sp
 .nf
-.ft C
+.ft
 [mq]
 git = auto/keep/yes/no
-.ft P
+.ft
 .fi
 .sp
-If set to \(aqkeep\(aq, mq will obey the [diff] section configuration while
-preserving existing git patches upon qrefresh. If set to \(aqyes\(aq or
-\(aqno\(aq, mq will override the [diff] section and always generate git or
+If set to 'keep', mq will obey the [diff] section configuration while
+preserving existing git patches upon qrefresh. If set to 'yes' or
+'no', mq will override the [diff] section and always generate git or
 regular patches, possibly losing data in the second case.
 .sp
 It may be desirable for mq changesets to be kept in the secret phase (see
-\%\fBhg help phases\fP\:), which can be enabled with the following setting:
+\fBhg help phases\fP), which can be enabled with the following setting:
 .sp
 .nf
-.ft C
+.ft
 [mq]
 secret = True
-.ft P
+.ft
 .fi
 .sp
 You will by default be managing a patch queue named "patches". You can
-create other, independent patch queues with the \%\fBhg qqueue\fP\: command.
+create other, independent patch queues with the \fBhg qqueue\fP command.
 .SS Commands
 .SS qapplied
 .sp
 .nf
-.ft C
+.ft
 hg qapplied [\-1] [\-s] [PATCH]
-.ft P
+.ft
 .fi
 .sp
 Returns 0 on success.
@@ -8687,9 +8676,9 @@
 .SS qclone
 .sp
 .nf
-.ft C
+.ft
 hg qclone [OPTION]... SOURCE [DEST]
-.ft P
+.ft
 .fi
 .sp
 If source is local, destination will have no patches applied. If
@@ -8702,7 +8691,7 @@
 default. Use \-p <url> to change.
 .sp
 The patch directory must be a nested Mercurial repository, as
-would be created by \%\fBhg init \-\-mq\fP\:.
+would be created by \fBhg init \-\-mq\fP.
 .sp
 Return 0 on success.
 .sp
@@ -8740,12 +8729,12 @@
 .SS qcommit
 .sp
 .nf
-.ft C
+.ft
 hg qcommit [OPTION]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
-This command is deprecated; use \%\fBhg commit \-\-mq\fP\: instead.
+This command is deprecated; use \fBhg commit \-\-mq\fP instead.
 .sp
 Options:
 .INDENT 0.0
@@ -8795,9 +8784,9 @@
 .SS qdelete
 .sp
 .nf
-.ft C
+.ft
 hg qdelete [\-k] [PATCH]...
-.ft P
+.ft
 .fi
 .sp
 The patches must not be applied, and at least one patch is required. Exact
@@ -8805,7 +8794,7 @@
 preserved in the patch directory.
 .sp
 To stop managing a patch and move it into permanent history,
-use the \%\fBhg qfinish\fP\: command.
+use the \fBhg qfinish\fP command.
 .sp
 Options:
 .INDENT 0.0
@@ -8823,9 +8812,9 @@
 .SS qdiff
 .sp
 .nf
-.ft C
+.ft
 hg qdiff [OPTION]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
 Shows a diff which includes the current patch as well as any
@@ -8833,8 +8822,8 @@
 last refresh (thus showing what the current patch would become
 after a qrefresh).
 .sp
-Use \%\fBhg diff\fP\: if you only want to see the changes made since the
-last qrefresh, or \%\fBhg export qtip\fP\: if you want to see changes
+Use \fBhg diff\fP if you only want to see the changes made since the
+last qrefresh, or \fBhg export qtip\fP if you want to see changes
 made by the current patch without including changes made since the
 qrefresh.
 .sp
@@ -8894,9 +8883,9 @@
 .SS qfinish
 .sp
 .nf
-.ft C
+.ft
 hg qfinish [\-a] [REV]...
-.ft P
+.ft
 .fi
 .sp
 Finishes the specified revisions (corresponding to applied
@@ -8924,9 +8913,9 @@
 .SS qfold
 .sp
 .nf
-.ft C
+.ft
 hg qfold [\-e] [\-k] [\-m TEXT] [\-l FILE] PATCH...
-.ft P
+.ft
 .fi
 .sp
 Patches must not yet be applied. Each patch will be successively
@@ -8963,9 +8952,9 @@
 .SS qgoto
 .sp
 .nf
-.ft C
+.ft
 hg qgoto [OPTION]... PATCH
-.ft P
+.ft
 .fi
 .sp
 Returns 0 on success.
@@ -8980,30 +8969,31 @@
 .SS qguard
 .sp
 .nf
-.ft C
+.ft
 hg qguard [\-l] [\-n] [PATCH] [\-\- [+GUARD]... [\-GUARD]...]
-.ft P
+.ft
 .fi
 .sp
 Guards control whether a patch can be pushed. A patch with no
 guards is always pushed. A patch with a positive guard ("+foo") is
-pushed only if the \%\fBhg qselect\fP\: command has activated it. A patch with
-a negative guard ("\-foo") is never pushed if the \%\fBhg qselect\fP\: command
+pushed only if the \fBhg qselect\fP command has activated it. A patch with
+a negative guard ("\-foo") is never pushed if the \fBhg qselect\fP command
 has activated it.
 .sp
 With no arguments, print the currently active guards.
 With arguments, set guards for the named patch.
+.RS 0
 .IP Note
 .
-Specifying negative guards now requires \(aq\-\-\(aq.
+Specifying negative guards now requires '\-\-'.
 .RE
 .sp
 To set guards on another patch:
 .sp
 .nf
-.ft C
+.ft
 hg qguard other.patch \-\- +2.6.17 \-stable
-.ft P
+.ft
 .fi
 .sp
 Returns 0 on success.
@@ -9022,9 +9012,9 @@
 .SS qheader
 .sp
 .nf
-.ft C
+.ft
 hg qheader [PATCH]
-.ft P
+.ft
 .fi
 .sp
 Returns 0 on success.
@@ -9031,9 +9021,9 @@
 .SS qimport
 .sp
 .nf
-.ft C
+.ft
 hg qimport [\-e] [\-n NAME] [\-f] [\-g] [\-P] [\-r REV]... FILE...
-.ft P
+.ft
 .fi
 .sp
 The patch is inserted into the series after the last applied
@@ -9054,7 +9044,7 @@
 With \-g/\-\-git, patches imported with \-\-rev will use the git diff
 format. See the diffs help topic for information on why this is
 important for preserving rename/copy information and permission
-changes. Use \%\fBhg qfinish\fP\: to remove changesets from mq control.
+changes. Use \fBhg qfinish\fP to remove changesets from mq control.
 .sp
 To import a patch from standard input, pass \- as the patch file.
 When importing from standard input, a patch name must be specified
@@ -9063,9 +9053,9 @@
 To import an existing patch while renaming it:
 .sp
 .nf
-.ft C
+.ft
 hg qimport \-e existing\-patch \-n new\-name
-.ft P
+.ft
 .fi
 .sp
 Returns 0 if import succeeded.
@@ -9100,9 +9090,9 @@
 .SS qinit
 .sp
 .nf
-.ft C
+.ft
 hg qinit [\-c]
-.ft P
+.ft
 .fi
 .sp
 The queue repository is unversioned by default. If
@@ -9111,8 +9101,8 @@
 an unversioned patch repository into a versioned one). You can use
 qcommit to commit changes to this queue repository.
 .sp
-This command is deprecated. Without \-c, it\(aqs implied by other relevant
-commands. With \-c, use \%\fBhg init \-\-mq\fP\: instead.
+This command is deprecated. Without \-c, it's implied by other relevant
+commands. With \-c, use \fBhg init \-\-mq\fP instead.
 .sp
 Options:
 .INDENT 0.0
@@ -9124,9 +9114,9 @@
 .SS qnew
 .sp
 .nf
-.ft C
+.ft
 hg qnew [\-e] [\-m TEXT] [\-l FILE] PATCH [FILE]...
-.ft P
+.ft
 .fi
 .sp
 qnew creates a new patch on top of the currently\-applied patch (if
@@ -9142,7 +9132,7 @@
 .sp
 \-e/\-\-edit, \-m/\-\-message or \-l/\-\-logfile set the patch header as
 well as the commit message. If none is specified, the header is
-empty and the commit message is \(aq[mq]: PATCH\(aq.
+empty and the commit message is '[mq]: PATCH'.
 .sp
 Use the \-g/\-\-git option to keep the patch in the git extended diff
 format. Read the diffs help topic for more information on why this
@@ -9201,9 +9191,9 @@
 .SS qnext
 .sp
 .nf
-.ft C
+.ft
 hg qnext [\-s]
-.ft P
+.ft
 .fi
 .sp
 Returns 0 on success.
@@ -9218,9 +9208,9 @@
 .SS qpop
 .sp
 .nf
-.ft C
+.ft
 hg qpop [\-a] [\-f] [PATCH | INDEX]
-.ft P
+.ft
 .fi
 .sp
 By default, pops off the top of the patch stack. If given a patch
@@ -9247,9 +9237,9 @@
 .SS qprev
 .sp
 .nf
-.ft C
+.ft
 hg qprev [\-s]
-.ft P
+.ft
 .fi
 .sp
 Returns 0 on success.
@@ -9264,9 +9254,9 @@
 .SS qpush
 .sp
 .nf
-.ft C
+.ft
 hg qpush [\-f] [\-l] [\-a] [\-\-move] [PATCH | INDEX]
-.ft P
+.ft
 .fi
 .sp
 When \-f/\-\-force is applied, all local changes in patched files
@@ -9308,9 +9298,9 @@
 .SS qqueue
 .sp
 .nf
-.ft C
+.ft
 hg qqueue [OPTION] [QUEUE]
-.ft P
+.ft
 .fi
 .sp
 Supports switching between different patch queues, as well as creating
@@ -9361,9 +9351,9 @@
 .SS qrefresh
 .sp
 .nf
-.ft C
+.ft
 hg qrefresh [\-I] [\-X] [\-e] [\-m TEXT] [\-l FILE] [\-s] [FILE]...
-.ft P
+.ft
 .fi
 .sp
 If any file patterns are provided, the refreshed patch will
@@ -9434,9 +9424,9 @@
 .SS qrename
 .sp
 .nf
-.ft C
+.ft
 hg qrename PATCH1 [PATCH2]
-.ft P
+.ft
 .fi
 .sp
 With one argument, renames the current patch to PATCH1.
@@ -9452,12 +9442,12 @@
 .SS qrestore
 .sp
 .nf
-.ft C
+.ft
 hg qrestore [\-d] [\-u] REV
-.ft P
+.ft
 .fi
 .sp
-This command is deprecated, use \%\fBhg rebase\fP\: instead.
+This command is deprecated, use \fBhg rebase\fP instead.
 .sp
 Options:
 .INDENT 0.0
@@ -9473,12 +9463,12 @@
 .SS qsave
 .sp
 .nf
-.ft C
+.ft
 hg qsave [\-m TEXT] [\-l FILE] [\-c] [\-n NAME] [\-e] [\-f]
-.ft P
+.ft
 .fi
 .sp
-This command is deprecated, use \%\fBhg rebase\fP\: instead.
+This command is deprecated, use \fBhg rebase\fP instead.
 .sp
 Options:
 .INDENT 0.0
@@ -9510,12 +9500,12 @@
 .SS qselect
 .sp
 .nf
-.ft C
+.ft
 hg qselect [OPTION]... [GUARD]...
-.ft P
+.ft
 .fi
 .sp
-Use the \%\fBhg qguard\fP\: command to set or print guards on patch, then use
+Use the \fBhg qguard\fP command to set or print guards on patch, then use
 qselect to tell mq which guards to use. A patch will be pushed if
 it has no guards or any positive guards match the currently
 selected guard, but will not be pushed if any negative guards
@@ -9522,11 +9512,11 @@
 match the current guard. For example:
 .sp
 .nf
-.ft C
+.ft
 qguard foo.patch \-\- \-stable    (negative guard)
 qguard bar.patch    +stable    (positive guard)
 qselect stable
-.ft P
+.ft
 .fi
 .sp
 This activates the "stable" guard. mq will skip foo.patch (because
@@ -9573,9 +9563,9 @@
 .SS qseries
 .sp
 .nf
-.ft C
+.ft
 hg qseries [\-ms]
-.ft P
+.ft
 .fi
 .sp
 Returns 0 on success.
@@ -9594,9 +9584,9 @@
 .SS qtop
 .sp
 .nf
-.ft C
+.ft
 hg qtop [\-s]
-.ft P
+.ft
 .fi
 .sp
 Returns 0 on success.
@@ -9611,9 +9601,9 @@
 .SS qunapplied
 .sp
 .nf
-.ft C
+.ft
 hg qunapplied [\-1] [\-s] [PATCH]
-.ft P
+.ft
 .fi
 .sp
 Returns 0 on success.
@@ -9632,9 +9622,9 @@
 .SS strip
 .sp
 .nf
-.ft C
+.ft
 hg strip [\-k] [\-f] [\-n] REV...
-.ft P
+.ft
 .fi
 .sp
 The strip command removes the specified changesets and all their
@@ -9648,8 +9638,8 @@
 completes.
 .sp
 Any stripped changesets are stored in \fB.hg/strip\-backup\fP as a
-bundle (see \%\fBhg help bundle\fP\: and \%\fBhg help unbundle\fP\:). They can
-be restored by running \%\fBhg unbundle .hg/strip\-backup/BUNDLE\fP\:,
+bundle (see \fBhg help bundle\fP and \fBhg help unbundle\fP). They can
+be restored by running \fBhg unbundle .hg/strip\-backup/BUNDLE\fP,
 where BUNDLE is the bundle file created by the strip. Note that
 the local revision numbers will in general be different after the
 restore.
@@ -9697,13 +9687,13 @@
 This extension let you run hooks sending email notifications when
 changesets are being pushed, from the sending or receiving side.
 .sp
-First, enable the extension as explained in \%\fBhg help extensions\fP\:, and
+First, enable the extension as explained in \fBhg help extensions\fP, and
 register the hook you want to run. \fBincoming\fP and \fBchangegroup\fP hooks
 are run by the changesets receiver while the \fBoutgoing\fP one is for
 the sender:
 .sp
 .nf
-.ft C
+.ft
 [hooks]
 # one email for each incoming changeset
 incoming.notify = python:hgext.notify.hook
@@ -9712,7 +9702,7 @@
 
 # one email for all outgoing changesets
 outgoing.notify = python:hgext.notify.hook
-.ft P
+.ft
 .fi
 .sp
 Now the hooks are running, subscribers must be assigned to
@@ -9721,7 +9711,7 @@
 repository:
 .sp
 .nf
-.ft C
+.ft
 [usersubs]
 # key is subscriber email, value is a comma\-separated list of glob
 # patterns
@@ -9731,7 +9721,7 @@
 # key is glob pattern, value is a comma\-separated list of subscriber
 # emails
 pattern = user@host
-.ft P
+.ft
 .fi
 .sp
 Glob patterns are matched against absolute path to repository
@@ -9739,10 +9729,10 @@
 referenced with:
 .sp
 .nf
-.ft C
+.ft
 [notify]
 config = /path/to/subscriptionsfile
-.ft P
+.ft
 .fi
 .sp
 Alternatively, they can be added to Mercurial configuration files by
@@ -9764,7 +9754,7 @@
 if it includes the incoming or outgoing changes source. Incoming
 sources can be \fBserve\fP for changes coming from http or ssh,
 \fBpull\fP for pulled changes, \fBunbundle\fP for changes added by
-\%\fBhg unbundle\fP\: or \fBpush\fP for changes being pushed
+\fBhg unbundle\fP or \fBpush\fP for changes being pushed
 locally. Outgoing sources are the same except for \fBunbundle\fP which
 is replaced by \fBbundle\fP. Default: serve.
 .TP
@@ -9848,10 +9838,10 @@
 To set the pager that should be used, set the application variable:
 .sp
 .nf
-.ft C
+.ft
 [pager]
 pager = less \-FRSX
-.ft P
+.ft
 .fi
 .sp
 If no pager is set, the pager extensions uses the environment variable
@@ -9861,10 +9851,10 @@
 setting:
 .sp
 .nf
-.ft C
+.ft
 [pager]
 quiet = True
-.ft P
+.ft
 .fi
 .sp
 You can disable the pager for certain commands by adding them to the
@@ -9871,10 +9861,10 @@
 pager.ignore list:
 .sp
 .nf
-.ft C
+.ft
 [pager]
 ignore = version, help, update
-.ft P
+.ft
 .fi
 .sp
 You can also enable the pager only for certain commands using
@@ -9881,10 +9871,10 @@
 pager.attend. Below is the default list of commands to be paged:
 .sp
 .nf
-.ft C
+.ft
 [pager]
 attend = annotate, cat, diff, export, glog, log, qdiff
-.ft P
+.ft
 .fi
 .sp
 Setting pager.attend to an empty value will cause all commands to be
@@ -9892,7 +9882,7 @@
 .sp
 If pager.attend is present, pager.ignore will be ignored.
 .sp
-To ignore global commands like \%\fBhg version\fP\: or \%\fBhg help\fP\:, you have
+To ignore global commands like \fBhg version\fP or \fBhg help\fP, you have
 to specify them in your user configuration file.
 .sp
 The \-\-pager=... option can also be used to control when the pager is
@@ -9917,7 +9907,7 @@
 [Optional] The result of running diffstat on the patch.
 .IP \(bu 2
 .
-The patch itself, as generated by \%\fBhg export\fP\:.
+The patch itself, as generated by \fBhg export\fP.
 .UNINDENT
 .sp
 Each message refers to the first in the series using the In\-Reply\-To
@@ -9928,7 +9918,7 @@
 configuration file:
 .sp
 .nf
-.ft C
+.ft
 [email]
 from = My Name <my@email>
 to = recipient1, recipient2, ...
@@ -9935,13 +9925,13 @@
 cc = cc1, cc2, ...
 bcc = bcc1, bcc2, ...
 reply\-to = address1, address2, ...
-.ft P
+.ft
 .fi
 .sp
 Use \fB[patchbomb]\fP as configuration section name if you need to
 override global \fB[email]\fP address settings.
 .sp
-Then you can use the \%\fBhg email\fP\: command to mail a series of
+Then you can use the \fBhg email\fP command to mail a series of
 changesets as a patchbomb.
 .sp
 You can also either configure the method option in the email section
@@ -9953,13 +9943,13 @@
 .SS email
 .sp
 .nf
-.ft C
+.ft
 hg email [OPTION]... [DEST]...
-.ft P
+.ft
 .fi
 .sp
 By default, diffs are sent in the format generated by
-\%\fBhg export\fP\:, one per message. The series starts with a "[PATCH 0
+\fBhg export\fP, one per message. The series starts with a "[PATCH 0
 of N]" introduction, which describes the series as a whole.
 .sp
 Each patch email has a Subject line of "[PATCH M of N] ...", using
@@ -9970,7 +9960,7 @@
 With the \-d/\-\-diffstat option, if the diffstat program is
 installed, the result of running diffstat on the patch is inserted.
 .sp
-Finally, the patch itself, as generated by \%\fBhg export\fP\:.
+Finally, the patch itself, as generated by \fBhg export\fP.
 .sp
 With the \-d/\-\-diffstat or \-c/\-\-confirm options, you will be presented
 with a final summary of all messages and asked for confirmation before
@@ -10010,7 +10000,7 @@
 Examples:
 .sp
 .nf
-.ft C
+.ft
 hg email \-r 3000          # send patch 3000 only
 hg email \-r 3000 \-r 3001  # send patches 3000 and 3001
 hg email \-r 3000:3005     # send patches 3000 through 3005
@@ -10031,7 +10021,7 @@
 hg email \-o \-m mbox &&    # generate an mbox file ...
   formail \-s sendmail \e   # ... and use formail to send from the mbox
     \-bm \-t < mbox         # ... using sendmail
-.ft P
+.ft
 .fi
 .sp
 Before using this command, you will need to enable email in your
@@ -10168,7 +10158,7 @@
 The following settings are available:
 .sp
 .nf
-.ft C
+.ft
 [progress]
 delay = 3 # number of seconds (float) before showing the progress bar
 changedelay = 1 # changedelay: minimum delay before showing a new topic.
@@ -10178,11 +10168,11 @@
 format = topic bar number estimate # format of the progress bar
 width = <none> # if set, the maximum width of the progress information
                # (that is, min(width, term width) will be used)
-clear\-complete = True # clear the progress bar after it\(aqs done
-disable = False # if true, don\(aqt show a progress bar
+clear\-complete = True # clear the progress bar after it's done
+disable = False # if true, don't show a progress bar
 assume\-tty = False # if true, ALWAYS show a progress bar, unless
                    # disable is given
-.ft P
+.ft
 .fi
 .sp
 Valid entries for the format field are topic, bar, number, unit,
@@ -10197,9 +10187,9 @@
 .SS purge
 .sp
 .nf
-.ft C
+.ft
 hg purge [OPTION]... [DIR]...
-.ft P
+.ft
 .fi
 .sp
 Delete files not known to Mercurial. This is useful to test local
@@ -10209,7 +10199,7 @@
 .INDENT 0.0
 .IP \(bu 2
 .
-Unknown files: files marked with "?" by \%\fBhg status\fP\:
+Unknown files: files marked with "?" by \fBhg status\fP
 .IP \(bu 2
 .
 Empty directories: in fact Mercurial ignores directories unless
@@ -10226,7 +10216,7 @@
 Ignored files (unless \-\-all is specified)
 .IP \(bu 2
 .
-New files added to the repository (with \%\fBhg add\fP\:)
+New files added to the repository (with \fBhg add\fP)
 .UNINDENT
 .sp
 If directories are given on the command line, only files in these
@@ -10274,15 +10264,15 @@
 repository.
 .sp
 For more information:
-\%http://mercurial.selenic.com/wiki/RebaseExtension\:
+http://mercurial.selenic.com/wiki/RebaseExtension
 .SS Commands
 .SS rebase
 .sp
 .nf
-.ft C
+.ft
 hg rebase [\-s REV | \-b REV] [\-d REV] [options]
 hg rebase {\-a|\-c}
-.ft P
+.ft
 .fi
 .sp
 Rebase uses repeated merging to graft changesets from one part of
@@ -10295,7 +10285,7 @@
 same rebase or they will end up with duplicated changesets after
 pulling in your rebased changesets.
 .sp
-If you don\(aqt specify a destination changeset (\fB\-d/\-\-dest\fP),
+If you don't specify a destination changeset (\fB\-d/\-\-dest\fP),
 rebase uses the tipmost head of the current named branch as the
 destination. (The destination changeset is not modified by
 rebasing, but new changesets are added as its descendants.)
@@ -10322,7 +10312,7 @@
 and source branch is that, unlike \fBmerge\fP, rebase will do
 nothing if you are at the latest (tipmost) head of a named branch
 with two heads. You need to explicitly specify source and/or
-destination (or \fBupdate\fP to the other head, if it\(aqs the head of
+destination (or \fBupdate\fP to the other head, if it's the head of
 the intended source branch).
 .sp
 If a rebase is interrupted to manually resolve a merge, it can be
@@ -10404,25 +10394,25 @@
 .SS qrecord
 .sp
 .nf
-.ft C
+.ft
 hg qrecord [OPTION]... PATCH [FILE]...
-.ft P
+.ft
 .fi
 .sp
-See \%\fBhg help qnew\fP\: & \%\fBhg help record\fP\: for more information and
+See \fBhg help qnew\fP & \fBhg help record\fP for more information and
 usage.
 .SS record
 .sp
 .nf
-.ft C
+.ft
 hg record [OPTION]... [FILE]...
-.ft P
+.ft
 .fi
 .sp
-If a list of files is omitted, all changes reported by \%\fBhg status\fP\:
+If a list of files is omitted, all changes reported by \fBhg status\fP
 will be candidates for recording.
 .sp
-See \%\fBhg help dates\fP\: for a list of formats valid for \-d/\-\-date.
+See \fBhg help dates\fP for a list of formats valid for \-d/\-\-date.
 .sp
 You will be prompted for whether to record changes to each
 modified file, and for files with multiple changes, for each
@@ -10430,7 +10420,7 @@
 possible:
 .sp
 .nf
-.ft C
+.ft
 y \- record this change
 n \- skip this change
 e \- edit this change manually
@@ -10443,7 +10433,7 @@
 q \- quit, recording no changes
 
 ? \- display help
-.ft P
+.ft
 .fi
 .sp
 This command is not available when committing a merge.
@@ -10510,9 +10500,9 @@
 .SS relink
 .sp
 .nf
-.ft C
+.ft
 hg relink [ORIGIN]
-.ft P
+.ft
 .fi
 .sp
 When repositories are cloned locally, their data files will be
@@ -10544,18 +10534,18 @@
 lot of repositories to act like a scheme, for example:
 .sp
 .nf
-.ft C
+.ft
 [schemes]
 py = http://code.python.org/hg/
-.ft P
+.ft
 .fi
 .sp
 After that you can use it like:
 .sp
 .nf
-.ft C
+.ft
 hg clone py://trunk/
-.ft P
+.ft
 .fi
 .sp
 Additionally there is support for some more complex schemas, for
@@ -10562,10 +10552,10 @@
 example used by Google Code:
 .sp
 .nf
-.ft C
+.ft
 [schemes]
 gcode = http://{1}.googlecode.com/hg/
-.ft P
+.ft
 .fi
 .sp
 The syntax is taken from Mercurial templates, and you have unlimited
@@ -10577,7 +10567,7 @@
 For convenience, the extension adds these schemes by default:
 .sp
 .nf
-.ft C
+.ft
 [schemes]
 py = http://hg.python.org/
 bb = https://bitbucket.org/
@@ -10584,7 +10574,7 @@
 bb+ssh = ssh://hg@bitbucket.org/
 gcode = https://{1}.googlecode.com/hg/
 kiln = https://{1}.kilnhg.com/Repo/
-.ft P
+.ft
 .fi
 .sp
 You can override a predefined scheme by defining a new scheme with the
@@ -10596,13 +10586,14 @@
 .SS share
 .sp
 .nf
-.ft C
+.ft
 hg share [\-U] SOURCE [DEST]
-.ft P
+.ft
 .fi
 .sp
 Initialize a new repository and working directory that shares its
 history with another repository.
+.RS 0
 .IP Note
 .
 using rollback or extensions that destroy/modify history (mq,
@@ -10626,9 +10617,9 @@
 .SS unshare
 .sp
 .nf
-.ft C
+.ft
 hg unshare
-.ft P
+.ft
 .fi
 .sp
 Copy the store data to the repo and remove the sharedpath data.
@@ -10644,9 +10635,9 @@
 .SS transplant
 .sp
 .nf
-.ft C
+.ft
 hg transplant [\-s REPO] [\-b BRANCH [\-a]] [\-p REV] [\-m REV] [REV]...
-.ft P
+.ft
 .fi
 .sp
 Selected changesets will be applied on top of the current working
@@ -10659,9 +10650,9 @@
 of the form:
 .sp
 .nf
-.ft C
+.ft
 (transplanted from CHANGESETHASH)
-.ft P
+.ft
 .fi
 .sp
 You can rewrite the changelog message with the \-\-filter option.
@@ -10675,7 +10666,7 @@
 transplanted, otherwise you will be prompted to select the
 changesets you want.
 .sp
-\%\fBhg transplant \-\-branch REVISION \-\-all\fP\: will transplant the
+\fBhg transplant \-\-branch REVISION \-\-all\fP will transplant the
 selected branch (up to the named revision) onto your current
 working directory.
 .sp
@@ -10685,14 +10676,14 @@
 normally instead of transplanting them.
 .sp
 Merge changesets may be transplanted directly by specifying the
-proper parent changeset by calling \%\fBhg transplant \-\-parent\fP\:.
+proper parent changeset by calling \fBhg transplant \-\-parent\fP.
 .sp
-If no merges or revisions are provided, \%\fBhg transplant\fP\: will
+If no merges or revisions are provided, \fBhg transplant\fP will
 start an interactive changeset browser.
 .sp
 If a changeset application fails, you can fix the merge by hand
-and then resume where you left off by calling \%\fBhg transplant
-\-\-continue/\-c\fP\:.
+and then resume where you left off by calling \fBhg transplant
+\-\-continue/\-c\fP.
 .sp
 Options:
 .INDENT 0.0
@@ -10789,10 +10780,10 @@
 You can specify the encoding by config option:
 .sp
 .nf
-.ft C
+.ft
 [win32mbcs]
 encoding = sjis
-.ft P
+.ft
 .fi
 .sp
 It is useful for the users who want to commit with UTF\-8 log message.
@@ -10815,7 +10806,7 @@
 To perform automatic newline conversion, use:
 .sp
 .nf
-.ft C
+.ft
 [extensions]
 win32text =
 [encode]
@@ -10825,17 +10816,17 @@
 [decode]
 ** = cleverdecode:
 # or ** = macdecode:
-.ft P
+.ft
 .fi
 .sp
 If not doing conversion, to make sure you do not commit CRLF/CR by accident:
 .sp
 .nf
-.ft C
+.ft
 [hooks]
 pretxncommit.crlf = python:hgext.win32text.forbidcrlf
 # or pretxncommit.cr = python:hgext.win32text.forbidcr
-.ft P
+.ft
 .fi
 .sp
 To do the same check on a server to prevent CRLF/CR from being
@@ -10842,11 +10833,11 @@
 pushed or pulled:
 .sp
 .nf
-.ft C
+.ft
 [hooks]
 pretxnchangegroup.crlf = python:hgext.win32text.forbidcrlf
 # or pretxnchangegroup.cr = python:hgext.win32text.forbidcr
-.ft P
+.ft
 .fi
 .SS zeroconf
 .sp
@@ -10857,23 +10848,23 @@
 without knowing their actual IP address.
 .sp
 To allow other people to discover your repository using run
-\%\fBhg serve\fP\: in your repository:
+\fBhg serve\fP in your repository:
 .sp
 .nf
-.ft C
+.ft
 $ cd test
 $ hg serve
-.ft P
+.ft
 .fi
 .sp
 You can discover Zeroconf\-enabled repositories by running
-\%\fBhg paths\fP\::
+\fBhg paths\fP:
 .sp
 .nf
-.ft C
+.ft
 $ hg paths
 zc\-test = http://example.com:8000/test
-.ft P
+.ft
 .fi
 .SH FILES
 .INDENT 0.0
@@ -10883,7 +10874,7 @@
 This file contains defaults and configuration. Values in
 \fB.hg/hgrc\fP override those in \fB$HOME/.hgrc\fP, and these override
 settings made in the global \fB/etc/mercurial/hgrc\fP configuration.
-See \%\fBhgrc\fP(5)\: for details of the contents and format of these
+See \fBhgrc\fP(5) for details of the contents and format of these
 files.
 .TP
 .B \fB.hgignore\fP
@@ -10890,13 +10881,13 @@
 .sp
 This file contains regular expressions (one per line) that
 describe file names that should be ignored by \fBhg\fP. For details,
-see \%\fBhgignore\fP(5)\:.
+see \fBhgignore\fP(5).
 .TP
 .B \fB.hgsub\fP
 .sp
 This file defines the locations of all subrepositories, and
 tells where the subrepository checkouts came from. For details, see
-\%\fBhg help subrepos\fP\:.
+\fBhg help subrepos\fP.
 .TP
 .B \fB.hgsubstate\fP
 .sp
@@ -10911,7 +10902,7 @@
 .TP
 .B \fB.hg/last\-message.txt\fP
 .sp
-This file is used by \%\fBhg commit\fP\: to store a backup of the commit message
+This file is used by \fBhg commit\fP to store a backup of the commit message
 in case the commit fails.
 .TP
 .B \fB.hg/localtags\fP
@@ -10924,23 +10915,28 @@
 Some commands (e.g. revert) produce backup files ending in \fB.orig\fP,
 if the \fB.orig\fP file already exists and is not tracked by Mercurial,
 it will be overwritten.
+.TP
+.B /usr/demo/mercurial
+This directory contains assorted files which are part of the Mercurial
+distribution, but not core to its functionality.  They will generally
+need to be copied elsewhere to be of use.
 .SH BUGS
 .sp
-Probably lots, please post them to the mailing list (see \%Resources\:
+Probably lots, please post them to the mailing list (see Resources
 below) when you find them.
 .SH SEE ALSO
 .sp
-\%\fBhgignore\fP(5)\:, \%\fBhgrc\fP(5)\:
+\fBhgignore\fP(5), \fBhgrc\fP(5)
 .SH AUTHOR
 .sp
-Written by Matt Mackall <\%mpm@selenic.com\:>
+Written by Matt Mackall <mpm@selenic.com>
 .SH RESOURCES
 .sp
-Main Web Site: \%http://mercurial.selenic.com/\:
+Main Web Site: http://mercurial.selenic.com/
 .sp
-Source code repository: \%http://selenic.com/hg\:
+Source code repository: http://selenic.com/hg
 .sp
-Mailing list: \%http://selenic.com/mailman/listinfo/mercurial\:
+Mailing list: http://selenic.com/mailman/listinfo/mercurial
 .SH COPYING
 .sp
 Copyright (C) 2005\-2012 Matt Mackall.
--- mercurial-2.0/doc/hgignore.5	Sat Oct 15 12:31:31 2011
+++ mercurial-2.0/doc/hgignore.5	Sat May 12 17:16:23 2012
@@ -1,35 +1,9 @@
+'\" t
 .\" Man page generated from reStructeredText.
 .
 .TH HGIGNORE 5 "" "" "Mercurial Manual"
 .SH NAME
 hgignore \- syntax for Mercurial ignore files
-.
-.nr rst2man-indent-level 0
-.
-.de1 rstReportMargin
-\\$1 \\n[an-margin]
-level \\n[rst2man-indent-level]
-level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
--
-\\n[rst2man-indent0]
-\\n[rst2man-indent1]
-\\n[rst2man-indent2]
-..
-.de1 INDENT
-.\" .rstReportMargin pre:
-. RS \\$1
-. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
-. nr rst2man-indent-level +1
-.\" .rstReportMargin post:
-..
-.de UNINDENT
-. RE
-.\" indent \\n[an-margin]
-.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
-.nr rst2man-indent-level -1
-.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
-.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
-..
 .SH SYNOPSIS
 .sp
 The Mercurial system uses a file called \fB.hgignore\fP in the root
@@ -55,12 +29,12 @@
 .sp
 In addition, a Mercurial configuration file can reference a set of
 per\-user or global ignore files. See the \fBignore\fP configuration
-key on the \fB[ui]\fP section of \%\fBhg help config\fP\: for details of how to
+key on the \fB[ui]\fP section of \fBhg help config\fP for details of how to
 configure these files.
 .sp
-To control Mercurial\(aqs handling of files that it manages, many
+To control Mercurial's handling of files that it manages, many
 commands support the \fB\-I\fP and \fB\-X\fP options; see
-\%\fBhg help <command>\fP\: and \%\fBhg help patterns\fP\: for details.
+\fBhg help <command>\fP and \fBhg help patterns\fP for details.
 .SH SYNTAX
 .sp
 An ignore file is a plain text file consisting of a list of patterns,
@@ -74,9 +48,9 @@
 To change the syntax used, use a line of the following form:
 .sp
 .nf
-.ft C
+.ft
 syntax: NAME
-.ft P
+.ft
 .fi
 .sp
 where \fBNAME\fP is one of the following:
@@ -98,6 +72,7 @@
 the form \fB*.c\fP will match a file ending in \fB.c\fP in any directory,
 and a regexp pattern of the form \fB\e.c$\fP will do the same. To root a
 regexp pattern, start it with \fB^\fP.
+.RS 0
 .IP Note
 .
 Patterns specified in other than \fB.hgignore\fP are always rooted.
@@ -108,7 +83,7 @@
 Here is an example ignore file.
 .sp
 .nf
-.ft C
+.ft
 # use glob syntax.
 syntax: glob
 
@@ -119,16 +94,16 @@
 # switch to regexp syntax.
 syntax: regexp
 ^\e.pc/
-.ft P
+.ft
 .fi
 .SH AUTHOR
 .sp
-Vadim Gelfer <\%vadim.gelfer@gmail.com\:>
+Vadim Gelfer <vadim.gelfer@gmail.com>
 .sp
-Mercurial was written by Matt Mackall <\%mpm@selenic.com\:>.
+Mercurial was written by Matt Mackall <mpm@selenic.com>.
 .SH SEE ALSO
 .sp
-\%\fBhg\fP(1)\:, \%\fBhgrc\fP(5)\:
+\fBhg\fP(1), \fBhgrc\fP(5)
 .SH COPYING
 .sp
 This manual page is copyright 2006 Vadim Gelfer.
--- mercurial-2.2.1/doc/hgrc.5	Thu May  3 14:06:35 2012
+++ mercurial-2.2.1/doc/hgrc.5	Sat May 12 17:18:32 2012
@@ -1,35 +1,9 @@
+'\" t
 .\" Man page generated from reStructeredText.
 .
 .TH HGRC 5 "" "" "Mercurial Manual"
 .SH NAME
 hgrc \- configuration files for Mercurial
-.
-.nr rst2man-indent-level 0
-.
-.de1 rstReportMargin
-\\$1 \\n[an-margin]
-level \\n[rst2man-indent-level]
-level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
--
-\\n[rst2man-indent0]
-\\n[rst2man-indent1]
-\\n[rst2man-indent2]
-..
-.de1 INDENT
-.\" .rstReportMargin pre:
-. RS \\$1
-. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
-. nr rst2man-indent-level +1
-.\" .rstReportMargin post:
-..
-.de UNINDENT
-. RE
-.\" indent \\n[an-margin]
-.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
-.nr rst2man-indent-level -1
-.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
-.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
-..
 .SH SYNOPSIS
 .sp
 The Mercurial system uses a set of configuration files to control
@@ -40,11 +14,11 @@
 by \fBname = value\fP entries:
 .sp
 .nf
-.ft C
+.ft
 [ui]
 username = Firstname Lastname <firstname.lastname@example.net>
 verbose = True
-.ft P
+.ft
 .fi
 .sp
 The above entries will be referred to as \fBui.username\fP and
@@ -65,7 +39,7 @@
 ones.
 .sp
 .nf
-(All) \fB<repo>/.hg/hgrc\fP
+\fB<repo>/.hg/hgrc\fP
 .fi
 .sp
 .INDENT 0.0
@@ -74,8 +48,8 @@
 Per\-repository configuration options that only apply in a
 particular repository. This file is not version\-controlled, and
 will not get transferred during a "clone" operation. Options in
-this file override options in all other configuration files. On
-Plan 9 and Unix, most of this file will be ignored if it doesn\(aqt
+this file override options in all other configuration files.
+Most of this file will be ignored if it doesn't
 belong to a trusted user or to a trusted group. See the documentation
 for the \fB[trusted]\fP section below for more details.
 .UNINDENT
@@ -82,30 +56,22 @@
 .UNINDENT
 .sp
 .nf
-(Plan 9) \fB$home/lib/hgrc\fP
-(Unix) \fB$HOME/.hgrc\fP
-(Windows) \fB%USERPROFILE%\e.hgrc\fP
-(Windows) \fB%USERPROFILE%\eMercurial.ini\fP
-(Windows) \fB%HOME%\e.hgrc\fP
-(Windows) \fB%HOME%\eMercurial.ini\fP
+\fB$HOME/.hgrc\fP
 .fi
 .sp
 .INDENT 0.0
 .INDENT 3.5
 .sp
-Per\-user configuration file(s), for the user running Mercurial. On
-Windows 9x, \fB%HOME%\fP is replaced by \fB%APPDATA%\fP. Options in these
-files apply to all Mercurial commands executed by this user in any
-directory. Options in these files override per\-system and per\-installation
+Per\-user configuration file, for the user running Mercurial. Options in
+this file apply to all Mercurial commands executed by this user in any
+directory. Options in this file override per\-system and per\-installation
 options.
 .UNINDENT
 .UNINDENT
 .sp
 .nf
-(Plan 9) \fB/lib/mercurial/hgrc\fP
-(Plan 9) \fB/lib/mercurial/hgrc.d/*.rc\fP
-(Unix) \fB/etc/mercurial/hgrc\fP
-(Unix) \fB/etc/mercurial/hgrc.d/*.rc\fP
+\fB/etc/mercurial/hgrc\fP
+\fB/etc/mercurial/hgrc.d/*.rc\fP
 .fi
 .sp
 .INDENT 0.0
@@ -117,46 +83,6 @@
 override per\-installation options.
 .UNINDENT
 .UNINDENT
-.sp
-.nf
-(Plan 9) \fB<install\-root>/lib/mercurial/hgrc\fP
-(Plan 9) \fB<install\-root>/lib/mercurial/hgrc.d/*.rc\fP
-(Unix) \fB<install\-root>/etc/mercurial/hgrc\fP
-(Unix) \fB<install\-root>/etc/mercurial/hgrc.d/*.rc\fP
-.fi
-.sp
-.INDENT 0.0
-.INDENT 3.5
-.sp
-Per\-installation configuration files, searched for in the
-directory where Mercurial is installed. \fB<install\-root>\fP is the
-parent directory of the \fBhg\fP executable (or symlink) being run. For
-example, if installed in \fB/shared/tools/bin/hg\fP, Mercurial will look
-in \fB/shared/tools/etc/mercurial/hgrc\fP. Options in these files apply
-to all Mercurial commands executed by any user in any directory.
-.UNINDENT
-.UNINDENT
-.sp
-.nf
-(Windows) \fB<install\-dir>\eMercurial.ini\fP \fBor\fP
-(Windows) \fB<install\-dir>\ehgrc.d\e*.rc\fP \fBor\fP
-(Windows) \fBHKEY_LOCAL_MACHINE\eSOFTWARE\eMercurial\fP
-.fi
-.sp
-.INDENT 0.0
-.INDENT 3.5
-.sp
-Per\-installation/system configuration files, for the system on
-which Mercurial is running. Options in these files apply to all
-Mercurial commands executed by any user in any directory. Registry
-keys contain PATH\-like strings, every part of which must reference
-a \fBMercurial.ini\fP file or be a directory where \fB*.rc\fP files will
-be read.  Mercurial checks each of these locations in the specified
-order until one or more configuration files are detected.  If the
-pywin32 extensions are not installed, Mercurial will only look for
-site\-wide configuration in \fBC:\eMercurial\eMercurial.ini\fP.
-.UNINDENT
-.UNINDENT
 .SH SYNTAX
 .sp
 A configuration file consists of sections, led by a \fB[section]\fP header
@@ -164,12 +90,12 @@
 \fBconfiguration keys\fP):
 .sp
 .nf
-.ft C
+.ft
 [spam]
 eggs=ham
 green=
    eggs
-.ft P
+.ft
 .fi
 .sp
 Each line contains one entry. If the lines that follow are indented,
@@ -181,12 +107,12 @@
 will use the value that was configured last. As an example:
 .sp
 .nf
-.ft C
+.ft
 [spam]
 eggs=large
 ham=serrano
 eggs=small
-.ft P
+.ft
 .fi
 .sp
 This would set the configuration key named \fBeggs\fP to \fBsmall\fP.
@@ -196,7 +122,7 @@
 example:
 .sp
 .nf
-.ft C
+.ft
 [foo]
 eggs=large
 ham=serrano
@@ -211,7 +137,7 @@
 ham=prosciutto
 eggs=medium
 bread=toasted
-.ft P
+.ft
 .fi
 .sp
 This would set the \fBeggs\fP, \fBham\fP, and \fBbread\fP configuration keys
@@ -233,9 +159,9 @@
 \fBfile\fP. This lets you do something like:
 .sp
 .nf
-.ft C
+.ft
 %include ~/.hgrc.d/$HOST.rc
-.ft P
+.ft
 .fi
 .sp
 to include a different configuration file on each computer you use.
@@ -252,9 +178,9 @@
 placed in double quotation marks:
 .sp
 .nf
-.ft C
+.ft
 allow_read = "John Doe, PhD", brian, betty
-.ft P
+.ft
 .fi
 .sp
 Quotation marks can be escaped by prefixing them with a backslash. Only
@@ -278,17 +204,17 @@
 Alias definitions consist of lines of the form:
 .sp
 .nf
-.ft C
+.ft
 <alias> = <command> [<argument>]...
-.ft P
+.ft
 .fi
 .sp
 For example, this definition:
 .sp
 .nf
-.ft C
+.ft
 latest = log \-\-limit 5
-.ft P
+.ft
 .fi
 .sp
 creates a new command \fBlatest\fP that shows only the five most recent
@@ -295,10 +221,11 @@
 changesets. You can define subsequent aliases using earlier ones:
 .sp
 .nf
-.ft C
+.ft
 stable5 = latest \-b stable
-.ft P
+.ft
 .fi
+.RS 0
 .IP Note
 .
 It is possible to create aliases with the same names as
@@ -311,9 +238,9 @@
 run arbitrary commands. As an example,
 .sp
 .nf
-.ft C
+.ft
 echo = !echo $@
-.ft P
+.ft
 .fi
 .sp
 will let you do \fBhg echo foo\fP to have \fBfoo\fP printed in your
@@ -320,9 +247,9 @@
 terminal. A better example might be:
 .sp
 .nf
-.ft C
+.ft
 purge = !$HG status \-\-no\-status \-\-unknown \-0 | xargs \-0 rm
-.ft P
+.ft
 .fi
 .sp
 which will make \fBhg purge\fP delete all unknown files in the
@@ -340,6 +267,7 @@
 alias, as was done above for the purge alias. In addition,
 \fB$HG_ARGS\fP expands to the arguments given to Mercurial. In the \fBhg
 echo foo\fP call above, \fB$HG_ARGS\fP would expand to \fBecho foo\fP.
+.RS 0
 .IP Note
 .
 Some global configuration options such as \fB\-R\fP are
@@ -375,9 +303,9 @@
 Each line has the following format:
 .sp
 .nf
-.ft C
+.ft
 <name>.<argument> = <value>
-.ft P
+.ft
 .fi
 .sp
 where \fB<name>\fP is used to group arguments into authentication
@@ -384,7 +312,7 @@
 entries. Example:
 .sp
 .nf
-.ft C
+.ft
 foo.prefix = hg.intevation.org/mercurial
 foo.username = foo
 foo.password = bar
@@ -394,7 +322,7 @@
 bar.key = path/to/file.key
 bar.cert = path/to/file.cert
 bar.schemes = https
-.ft P
+.ft
 .fi
 .sp
 Supported arguments:
@@ -405,7 +333,7 @@
 Either \fB*\fP or a URI prefix with or without the scheme part.
 The authentication entry with the longest matching prefix is used
 (where \fB*\fP matches everything and counts as a match of length
-1). If the prefix doesn\(aqt include a scheme, the match is performed
+1). If the prefix doesn't include a scheme, the match is performed
 against the URI with its scheme stripped as well, and the schemes
 argument, q.v., is then subsequently consulted.
 .TP
@@ -437,7 +365,7 @@
 .B \fBschemes\fP
 .sp
 Optional. Space separated list of URI schemes to use this
-authentication entry with. Only used if the prefix doesn\(aqt include
+authentication entry with. Only used if the prefix doesn't include
 a scheme. Supported schemes are http and https. They will match
 static\-http and static\-https respectively, as well.
 Default: https.
@@ -467,7 +395,7 @@
 Pipe example:
 .sp
 .nf
-.ft C
+.ft
 [encode]
 # uncompress gzip files on checkin to improve delta compression
 # note: not necessarily a good idea, just an example
@@ -475,9 +403,9 @@
 
 [decode]
 # recompress gzip files when writing them to the working dir (we
-# can safely omit "pipe:", because it\(aqs the default)
+# can safely omit "pipe:", because it's the default)
 *.gz = gzip
-.ft P
+.ft
 .fi
 .sp
 A \fBtempfile:\fP command is a template. The string \fBINFILE\fP is replaced
@@ -485,12 +413,6 @@
 filtered by the command. The string \fBOUTFILE\fP is replaced with the name
 of an empty temporary file, where the filtered data must be written by
 the command.
-.IP Note
-.
-The tempfile mechanism is recommended for Windows systems,
-where the standard shell I/O redirection operators often have
-strange effects and may corrupt the contents of your files.
-.RE
 .sp
 This filter mechanism is used internally by the \fBeol\fP extension to
 translate line ending characters between Windows (CRLF) and Unix (LF)
@@ -497,20 +419,20 @@
 format. We suggest you use the \fBeol\fP extension for convenience.
 .SS \fBdefaults\fP
 .sp
-(defaults are deprecated. Don\(aqt use them. Use aliases instead)
+(defaults are deprecated. Don't use them. Use aliases instead)
 .sp
 Use the \fB[defaults]\fP section to define command defaults, i.e. the
 default options/arguments to pass to the specified commands.
 .sp
-The following example makes \%\fBhg log\fP\: run in verbose mode, and
-\%\fBhg status\fP\: show only the modified files, by default:
+The following example makes \fBhg log\fP run in verbose mode, and
+\fBhg status\fP show only the modified files, by default:
 .sp
 .nf
-.ft C
+.ft
 [defaults]
 log = \-v
 status = \-m
-.ft P
+.ft
 .fi
 .sp
 The actual commands, instead of their aliases, must be used when
@@ -529,7 +451,7 @@
 .TP
 .B \fBnodates\fP
 .sp
-Don\(aqt include dates in diff headers.
+Don't include dates in diff headers.
 .TP
 .B \fBshowfunc\fP
 .sp
@@ -563,16 +485,16 @@
 .TP
 .B \fBto\fP
 .sp
-Optional. Comma\-separated list of recipients\(aq email addresses.
+Optional. Comma\-separated list of recipients' email addresses.
 .TP
 .B \fBcc\fP
 .sp
-Optional. Comma\-separated list of carbon copy recipients\(aq
+Optional. Comma\-separated list of carbon copy recipients'
 email addresses.
 .TP
 .B \fBbcc\fP
 .sp
-Optional. Comma\-separated list of blind carbon copy recipients\(aq
+Optional. Comma\-separated list of blind carbon copy recipients'
 email addresses.
 .TP
 .B \fBmethod\fP
@@ -617,7 +539,7 @@
 Email example:
 .sp
 .nf
-.ft C
+.ft
 [email]
 from = Joseph User <joe.user@example.com>
 method = /usr/sbin/sendmail
@@ -624,7 +546,7 @@
 # charsets for western Europeans
 # us\-ascii, utf\-8 omitted, as they are tried first and last
 charsets = iso\-8859\-1, iso\-8859\-15, windows\-1252
-.ft P
+.ft
 .fi
 .SS \fBextensions\fP
 .sp
@@ -631,7 +553,7 @@
 Mercurial has an extension mechanism for adding new features. To
 enable an extension, create an entry for it in this section.
 .sp
-If you know that the extension is already in Python\(aqs search path,
+If you know that the extension is already in Python's search path,
 you can give the name of the module, followed by \fB=\fP, with nothing
 after the \fB=\fP.
 .sp
@@ -646,13 +568,13 @@
 Example for \fB~/.hgrc\fP:
 .sp
 .nf
-.ft C
+.ft
 [extensions]
-# (the mq extension will get loaded from Mercurial\(aqs path)
+# (the mq extension will get loaded from Mercurial's path)
 mq =
 # (this extension will get loaded from the file specified)
 myfeature = ~/.hgext/myfeature.py
-.ft P
+.ft
 .fi
 .SS \fBformat\fP
 .INDENT 0.0
@@ -693,9 +615,9 @@
 Each line has the following format:
 .sp
 .nf
-.ft C
+.ft
 <branch>.<argument> = <value>
-.ft P
+.ft
 .fi
 .sp
 where \fB<branch>\fP is the name of the branch being
@@ -702,13 +624,13 @@
 customized. Example:
 .sp
 .nf
-.ft C
+.ft
 [graph]
 # 2px width
 default.width = 2
 # red color
 default.color = FF0000
-.ft P
+.ft
 .fi
 .sp
 Supported arguments:
@@ -736,7 +658,7 @@
 Example \fB.hg/hgrc\fP:
 .sp
 .nf
-.ft C
+.ft
 [hooks]
 # update working directory after adding changesets
 changegroup.update = hg update
@@ -746,7 +668,7 @@
 incoming.autobuild = /my/build/hook
 # force autobuild hook to run before other incoming hooks
 priority.incoming.autobuild = 1
-.ft P
+.ft
 .fi
 .sp
 Most hooks are run with environment variables set that give useful
@@ -796,7 +718,7 @@
 representations of the data internally passed to <command>. \fB$HG_OPTS\fP
 is a  dictionary of options (with unspecified options set to their
 defaults). \fB$HG_PATS\fP is a list of arguments. If the hook returns
-failure, the command doesn\(aqt execute and Mercurial returns the failure
+failure, the command doesn't execute and Mercurial returns the failure
 code.
 .TP
 .B \fBprechangegroup\fP
@@ -897,6 +819,7 @@
 in \fB$HG_PARENT2\fP. If the update succeeded, \fB$HG_ERROR=0\fP. If the
 update failed (e.g. because conflicts not resolved), \fB$HG_ERROR=1\fP.
 .UNINDENT
+.RS 0
 .IP Note
 .
 It is generally better to use standard hooks rather than the
@@ -905,21 +828,14 @@
 Also, hooks like "commit" will be called in all contexts that
 generate a commit (e.g. tag) and not just the commit command.
 .RE
-.IP Note
-.
-Environment variables with empty values may not be passed to
-hooks on platforms such as Windows. As an example, \fB$HG_PARENT2\fP
-will have an empty value under Unix\-like platforms for non\-merge
-changesets, while it will not be available at all under Windows.
-.RE
 .sp
 The syntax for Python hooks is as follows:
 .sp
 .nf
-.ft C
+.ft
 hookname = python:modulename.submodule.callable
 hookname = python:/path/to/python/module.py:callable
-.ft P
+.ft
 .fi
 .sp
 Python hooks are run within the Mercurial process. Each hook is
@@ -943,10 +859,10 @@
 For example:
 .sp
 .nf
-.ft C
+.ft
 [hostfingerprints]
 hg.intevation.org = 38:76:52:7c:87:26:9a:8f:4a:f8:d3:de:08:45:3b:ea:d6:4b:ee:cc
-.ft P
+.ft
 .fi
 .sp
 This feature is only supported when using Python 2.6 or later.
@@ -989,11 +905,11 @@
 Example:
 .sp
 .nf
-.ft C
+.ft
 [merge\-patterns]
 **.c = kdiff3
 **.jpg = myimgmerge
-.ft P
+.ft
 .fi
 .SS \fBmerge\-tools\fP
 .sp
@@ -1003,7 +919,7 @@
 Example \fB~/.hgrc\fP:
 .sp
 .nf
-.ft C
+.ft
 [merge\-tools]
 # Override stock tool location
 kdiff3.executable = ~/bin/kdiff3
@@ -1014,9 +930,8 @@
 
 # Define new tool
 myHtmlTool.args = \-m $local $other $base $output
-myHtmlTool.regkey = Software\eFooSoftware\eHtmlMerge
 myHtmlTool.priority = 1
-.ft P
+.ft
 .fi
 .sp
 Supported arguments:
@@ -1029,8 +944,7 @@
 .TP
 .B \fBexecutable\fP
 .sp
-Either just the name of the executable or its pathname.  On Windows,
-the path can use environment variables with ${ProgramFiles} syntax.
+Either just the name of the executable or its pathname.
 Default: the tool name.
 .TP
 .B \fBargs\fP
@@ -1093,42 +1007,15 @@
 .B \fBgui\fP
 .sp
 This tool requires a graphical interface to run. Default: False
-.TP
-.B \fBregkey\fP
-.sp
-Windows registry key which describes install location of this
-tool. Mercurial will search for this key first under
-\fBHKEY_CURRENT_USER\fP and then under \fBHKEY_LOCAL_MACHINE\fP.
-Default: None
-.TP
-.B \fBregkeyalt\fP
-.sp
-An alternate Windows registry key to try if the first key is not
-found.  The alternate key uses the same \fBregname\fP and \fBregappend\fP
-semantics of the primary key.  The most common use for this key
-is to search for 32bit applications on 64bit operating systems.
-Default: None
-.TP
-.B \fBregname\fP
-.sp
-Name of value to read from specified registry key. Defaults to the
-unnamed (default) value.
-.TP
-.B \fBregappend\fP
-.sp
-String to append to the value read from the registry, typically
-the executable name of the tool.
-Default: None
-.UNINDENT
 .SS \fBpatch\fP
 .sp
-Settings used when applying patches, for instance through the \(aqimport\(aq
+Settings used when applying patches, for instance through the 'import'
 command or with Mercurial Queues extension.
 .INDENT 0.0
 .TP
 .B \fBeol\fP
 .sp
-When set to \(aqstrict\(aq patch content and patched files end of lines
+When set to 'strict' patch content and patched files end of lines
 are preserved. When set to \fBlf\fP or \fBcrlf\fP, both files end of
 lines are ignored when patching and the result line endings are
 normalized to either LF (Unix) or CRLF (Windows). When set to
@@ -1159,7 +1046,7 @@
 .UNINDENT
 .SS \fBphases\fP
 .sp
-Specifies default handling of phases. See \%\fBhg help phases\fP\: for more
+Specifies default handling of phases. See \fBhg help phases\fP for more
 information about working with phases.
 .INDENT 0.0
 .TP
@@ -1181,8 +1068,8 @@
 supported: an instrumenting profiler (named \fBls\fP), and a sampling
 profiler (named \fBstat\fP).
 .sp
-In this section description, \(aqprofiling data\(aq stands for the raw data
-collected during profiling, while \(aqprofiling report\(aq stands for a
+In this section description, 'profiling data' stands for the raw data
+collected during profiling, while 'profiling report' stands for a
 statistical text report generated from the profiling data. The
 profiling is done using lsprof.
 .INDENT 0.0
@@ -1195,7 +1082,7 @@
 .TP
 .B \fBls\fP
 .sp
-Use Python\(aqs built\-in instrumenting profiler. This profiler
+Use Python's built\-in instrumenting profiler. This profiler
 works on all platforms, but each line number it reports is the
 first line of a function. This restriction makes it difficult to
 identify the expensive parts of a non\-trivial function.
@@ -1239,7 +1126,7 @@
 .UNINDENT
 .SS \fBrevsetalias\fP
 .sp
-Alias definitions for revsets. See \%\fBhg help revsets\fP\: for details.
+Alias definitions for revsets. See \fBhg help revsets\fP for details.
 .SS \fBserver\fP
 .sp
 Controls generic server settings.
@@ -1300,7 +1187,7 @@
 .TP
 .B \fBlocal_hostname\fP
 .sp
-Optional. It\(aqs the hostname that the sender can use to identify
+Optional. It's the hostname that the sender can use to identify
 itself to the MTA.
 .UNINDENT
 .SS \fBsubpaths\fP
@@ -1310,9 +1197,9 @@
 rewrite rules of the form:
 .sp
 .nf
-.ft C
+.ft
 <pattern> = <replacement>
-.ft P
+.ft
 .fi
 .sp
 where \fBpattern\fP is a regular expression matching a subrepository
@@ -1321,9 +1208,9 @@
 \fBreplacements\fP. For instance:
 .sp
 .nf
-.ft C
+.ft
 http://server/(.*)\-hg/ = http://hg.server/\e1/
-.ft P
+.ft
 .fi
 .sp
 rewrites \fBhttp://server/foo\-hg/\fP into \fBhttp://hg.server/foo/\fP.
@@ -1334,7 +1221,7 @@
 .SS \fBtrusted\fP
 .sp
 Mercurial will not use the settings in the
-\fB.hg/hgrc\fP file from a repository if it doesn\(aqt belong to a trusted
+\fB.hg/hgrc\fP file from a repository if it doesn't belong to a trusted
 user or to a trusted group, as various hgrc features allow arbitrary
 commands to be run. This issue is often encountered when configuring
 hooks or extensions for shared repositories or servers. However,
@@ -1365,7 +1252,7 @@
 .sp
 Whether to include the .hg_archival.txt file containing meta data
 (hashes for the repository base and for tip) in archives created
-by the \%\fBhg archive\fP\: command or downloaded via hgweb.
+by the \fBhg archive\fP command or downloaded via hgweb.
 Default is True.
 .TP
 .B \fBaskusername\fP
@@ -1393,7 +1280,7 @@
 .TP
 .B \fBfallbackencoding\fP
 .sp
-Encoding to try if it\(aqs not possible to decode the changelog using
+Encoding to try if it's not possible to decode the changelog using
 UTF\-8. Default is ISO\-8859\-1.
 .TP
 .B \fBignore\fP
@@ -1416,7 +1303,7 @@
 .B \fBmerge\fP
 .sp
 The conflict resolution program to use during a manual merge.
-For more information on merge tools see \%\fBhg help merge\-tools\fP\:.
+For more information on merge tools see \fBhg help merge\-tools\fP.
 For configuring merge tools see the \fB[merge\-tools]\fP section.
 .TP
 .B \fBportablefilenames\fP
@@ -1425,7 +1312,7 @@
 Default is \fBwarn\fP.
 If set to \fBwarn\fP (or \fBtrue\fP), a warning message is printed on POSIX
 platforms, if a file with a non\-portable filename is added (e.g. a file
-with a name that can\(aqt be created on Windows because it contains reserved
+with a name that can't be created on Windows because it contains reserved
 parts like \fBAUX\fP, reserved characters like \fB:\fP, or would cause a case
 collision with an existing file).
 If set to \fBignore\fP (or \fBfalse\fP), no warning is printed.
@@ -1486,7 +1373,7 @@
 .B \fBusername\fP
 .sp
 The committer of a changeset created when running "commit".
-Typically a person\(aqs name and email address, e.g. \fBFred Widget
+Typically a person's name and email address, e.g. \fBFred Widget
 <fred@example.com>\fP. Default is \fB$EMAIL\fP or \fBusername@hostname\fP. If
 the username in hgrc is empty, it has to be specified manually or
 in a different hgrc file (e.g. \fB$HOME/.hgrc\fP, if the admin set
@@ -1500,7 +1387,7 @@
 .SS \fBweb\fP
 .sp
 Web interface configuration. The settings in this section apply to
-both the builtin webserver (started by \%\fBhg serve\fP\:) and the script you
+both the builtin webserver (started by \fBhg serve\fP) and the script you
 run through a webserver (\fBhgweb.cgi\fP and the derivatives for FastCGI
 and WSGI).
 .sp
@@ -1516,9 +1403,9 @@
 command line:
 .sp
 .nf
-.ft C
+.ft
 $ hg \-\-config web.allow_push=* \-\-config web.push_ssl=False serve
-.ft P
+.ft
 .fi
 .sp
 Note that this will allow anybody to push anything to the server and
@@ -1612,13 +1499,13 @@
 To disable SSL verification temporarily, specify \fB\-\-insecure\fP from
 command line.
 .sp
-You can use OpenSSL\(aqs CA certificate file if your platform has
+You can use OpenSSL's CA certificate file if your platform has
 one. On most Linux systems this will be
 \fB/etc/ssl/certs/ca\-certificates.crt\fP. Otherwise you will have to
 generate this file manually. The form must be as follows:
 .sp
 .nf
-.ft C
+.ft
 \-\-\-\-\-BEGIN CERTIFICATE\-\-\-\-\-
 \&... (certificate in base64 PEM encoding) ...
 \-\-\-\-\-END CERTIFICATE\-\-\-\-\-
@@ -1625,7 +1512,7 @@
 \-\-\-\-\-BEGIN CERTIFICATE\-\-\-\-\-
 \&... (certificate in base64 PEM encoding) ...
 \-\-\-\-\-END CERTIFICATE\-\-\-\-\-
-.ft P
+.ft
 .fi
 .TP
 .B \fBcache\fP
@@ -1679,7 +1566,7 @@
 .TP
 .B \fBdescription\fP
 .sp
-Textual description of the repository\(aqs purpose or contents.
+Textual description of the repository's purpose or contents.
 Default is "unknown".
 .TP
 .B \fBencoding\fP
@@ -1731,7 +1618,7 @@
 .TP
 .B \fBprefix\fP
 .sp
-Prefix path to serve from. Default is \(aq\(aq (server root).
+Prefix path to serve from. Default is '' (server root).
 .TP
 .B \fBpush_ssl\fP
 .sp
@@ -1760,15 +1647,15 @@
 .UNINDENT
 .SH AUTHOR
 .sp
-Bryan O\(aqSullivan <\%bos@serpentine.com\:>.
+Bryan O'Sullivan <bos@serpentine.com>.
 .sp
-Mercurial was written by Matt Mackall <\%mpm@selenic.com\:>.
+Mercurial was written by Matt Mackall <mpm@selenic.com>.
 .SH SEE ALSO
 .sp
-\%\fBhg\fP(1)\:, \%\fBhgignore\fP(5)\:
+\fBhg\fP(1), \fBhgignore\fP(5)
 .SH COPYING
 .sp
-This manual page is copyright 2005 Bryan O\(aqSullivan.
+This manual page is copyright 2005 Bryan O'Sullivan.
 Mercurial is copyright 2005\-2012 Matt Mackall.
 Free use of this software is granted under the terms of the GNU General
 Public License version 2 or any later version.
